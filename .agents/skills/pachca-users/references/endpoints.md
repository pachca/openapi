# Сотрудники и теги — Справочник эндпоинтов

## Новый тег

**POST** `/group_tags`

Новый тег


Метод для создания нового тега.

**Тело запроса** (`application/json`):

- `group_tag` (object, **обязательный**): 
  - `name` (string, **обязательный**): Название тега

**Пример:**

```bash
curl "https://api.pachca.com/api/shared/v1/group_tags" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
  "group_tag": {
    "name": "Название тега"
  }
}'
```

**Ответ:**

- `data` (object, **обязательный**): Тег
  - `id` (integer, **обязательный**): Идентификатор тега
  - `name` (string, **обязательный**): Название тега
  - `users_count` (integer, **обязательный**): Количество сотрудников, которые имеют этот тег

---

## Список тегов сотрудников

**GET** `/group_tags`

Список тегов сотрудников

Метод для получения актуального списка тегов сотрудников. Названия тегов являются уникальными в компании.

**Параметры:**

- `names` (query, array, опциональный): Массив названий тегов, по которым вы хотите отфильтровать список
- `limit` (query, integer, опциональный): Количество возвращаемых сущностей за один запрос
- `cursor` (query, string, опциональный): Курсор для пагинации (из `meta.paginate.next_page`)

**Пример:**

```bash
curl "https://api.pachca.com/api/shared/v1/group_tags?names[]=Design&names[]=iOS&limit=50&cursor=string" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

**Ответ:**

- `meta` (object, опциональный): Метаданные пагинации
  - `paginate` (object, опциональный): Вспомогательная информация
    - `next_page` (string, опциональный): Курсор пагинации следующей страницы
- `data` (array[object], **обязательный**): 
  - `id` (integer, **обязательный**): Идентификатор тега
  - `name` (string, **обязательный**): Название тега
  - `users_count` (integer, **обязательный**): Количество сотрудников, которые имеют этот тег

---

## Информация о теге

**GET** `/group_tags/{id}`

Информация о теге

Метод для получения информации о теге. Названия тегов являются уникальными в компании.

Для получения тега вам необходимо знать его `id` и указать его в `URL` запроса.

**Параметры:**

- `id` (path, integer, **обязательный**): Идентификатор тега

**Пример:**

```bash
curl "https://api.pachca.com/api/shared/v1/group_tags/12345" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

**Ответ:**

- `data` (object, **обязательный**): Тег
  - `id` (integer, **обязательный**): Идентификатор тега
  - `name` (string, **обязательный**): Название тега
  - `users_count` (integer, **обязательный**): Количество сотрудников, которые имеют этот тег

---

## Редактирование тега

**PUT** `/group_tags/{id}`

Редактирование тега


Метод для редактирования тега.

Для редактирования тега вам необходимо знать его `id` и указать его в `URL` запроса. Все редактируемые параметры тега указываются в теле запроса.

**Параметры:**

- `id` (path, integer, **обязательный**): Идентификатор тега

**Тело запроса** (`application/json`):

- `group_tag` (object, **обязательный**): 
  - `name` (string, **обязательный**): Название тега

**Пример:**

```bash
curl -X PUT "https://api.pachca.com/api/shared/v1/group_tags/12345" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
  "group_tag": {
    "name": "Новое название тега"
  }
}'
```

**Ответ:**

- `data` (object, **обязательный**): Тег
  - `id` (integer, **обязательный**): Идентификатор тега
  - `name` (string, **обязательный**): Название тега
  - `users_count` (integer, **обязательный**): Количество сотрудников, которые имеют этот тег

---

## Удаление тега

**DELETE** `/group_tags/{id}`

Удаление тега


Метод для удаления тега.

Для удаления тега вам необходимо знать его `id` и указать его в `URL` запроса.

**Параметры:**

- `id` (path, integer, **обязательный**): Идентификатор тега

**Пример:**

```bash
curl -X DELETE "https://api.pachca.com/api/shared/v1/group_tags/12345" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

---

## Список сотрудников тега

**GET** `/group_tags/{id}/users`

Список сотрудников тега

Метод для получения актуального списка сотрудников тега.

**Параметры:**

- `id` (path, integer, **обязательный**): Идентификатор тега
- `limit` (query, integer, опциональный): Количество возвращаемых сущностей за один запрос
- `cursor` (query, string, опциональный): Курсор для пагинации (из `meta.paginate.next_page`)

**Пример:**

```bash
curl "https://api.pachca.com/api/shared/v1/group_tags/12345/users?limit=50&cursor=string" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

**Ответ:**

- `meta` (object, опциональный): Метаданные пагинации
  - `paginate` (object, опциональный): Вспомогательная информация
    - `next_page` (string, опциональный): Курсор пагинации следующей страницы
- `data` (array[object], **обязательный**): 
  - `id` (integer, **обязательный**): Идентификатор пользователя
  - `first_name` (string, **обязательный**): Имя
  - `last_name` (string, **обязательный**): Фамилия
  - `nickname` (string, **обязательный**): Имя пользователя
  - `email` (string, **обязательный**): Электронная почта
  - `phone_number` (string, **обязательный**): Телефон
  - `department` (string, **обязательный**): Департамент
  - `title` (string, **обязательный**): Должность
  - `role` (object, **обязательный**): Уровень доступа
  - `suspended` (boolean, **обязательный**): Деактивация пользователя
  - `invite_status` (object, **обязательный**): Статус приглашения
  - `list_tags` (array[string], **обязательный**): Массив тегов, привязанных к сотруднику
  - `custom_properties` (array[object], **обязательный**): Дополнительные поля сотрудника
    - `id` (integer, **обязательный**): Идентификатор поля
    - `name` (string, **обязательный**): Название поля
    - `data_type` (object, **обязательный**): Тип поля
    - `value` (string, **обязательный**): Значение
  - `user_status` (object, **обязательный**): Статус
  - `bot` (boolean, **обязательный**): Является ботом
  - `sso` (boolean, **обязательный**): Использует ли пользователь SSO
  - `created_at` (string, **обязательный**): Дата создания (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
  - `last_activity_at` (string, **обязательный**): Дата последней активности пользователя (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
  - `time_zone` (string, **обязательный**): Часовой пояс пользователя
  - `image_url` (string, **обязательный**): Ссылка на скачивание аватарки пользователя

---

## Создать сотрудника

**POST** `/users`

Создать сотрудника


Метод для создания нового сотрудника в вашей компании.

Вы можете заполнять дополнительные поля сотрудника, которые созданы в вашей компании. Получить актуальный список идентификаторов дополнительных полей сотрудника вы можете в методе [Список дополнительных полей](GET /custom_properties).

**Тело запроса** (`application/json`):

- `user` (object, **обязательный**): 
  - `first_name` (string, опциональный): Имя
  - `last_name` (string, опциональный): Фамилия
  - `email` (string, **обязательный**): Электронная почта
  - `phone_number` (string, опциональный): Телефон
  - `nickname` (string, опциональный): Имя пользователя
  - `department` (string, опциональный): Департамент
  - `title` (string, опциональный): Должность
  - `role` (object, опциональный): Уровень доступа
  - `suspended` (boolean, опциональный): Деактивация пользователя
  - `list_tags` (array[string], опциональный): Массив тегов, привязываемых к сотруднику
  - `custom_properties` (array[object], опциональный): Задаваемые дополнительные поля
    - `id` (integer, **обязательный**): Идентификатор поля
    - `value` (string, **обязательный**): Устанавливаемое значение
- `skip_email_notify` (boolean, опциональный): Пропуск этапа отправки приглашения сотруднику. Сотруднику не будет отправлено письмо на электронную почту с приглашением создать аккаунт. Полезно при предварительном создании аккаунтов перед входом через SSO.

**Пример:**

```bash
curl "https://api.pachca.com/api/shared/v1/users" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
  "user": {
    "first_name": "Олег",
    "last_name": "Петров",
    "email": "olegp@example.com",
    "department": "Продукт",
    "list_tags": [
      "Product",
      "Design"
    ],
    "custom_properties": [
      {
        "id": 1678,
        "value": "Санкт-Петербург"
      }
    ]
  },
  "skip_email_notify": true
}'
```

**Ответ:**

- `data` (object, **обязательный**): Сотрудник
  - `id` (integer, **обязательный**): Идентификатор пользователя
  - `first_name` (string, **обязательный**): Имя
  - `last_name` (string, **обязательный**): Фамилия
  - `nickname` (string, **обязательный**): Имя пользователя
  - `email` (string, **обязательный**): Электронная почта
  - `phone_number` (string, **обязательный**): Телефон
  - `department` (string, **обязательный**): Департамент
  - `title` (string, **обязательный**): Должность
  - `role` (object, **обязательный**): Уровень доступа
  - `suspended` (boolean, **обязательный**): Деактивация пользователя
  - `invite_status` (object, **обязательный**): Статус приглашения
  - `list_tags` (array[string], **обязательный**): Массив тегов, привязанных к сотруднику
  - `custom_properties` (array[object], **обязательный**): Дополнительные поля сотрудника
    - `id` (integer, **обязательный**): Идентификатор поля
    - `name` (string, **обязательный**): Название поля
    - `data_type` (object, **обязательный**): Тип поля
    - `value` (string, **обязательный**): Значение
  - `user_status` (object, **обязательный**): Статус
  - `bot` (boolean, **обязательный**): Является ботом
  - `sso` (boolean, **обязательный**): Использует ли пользователь SSO
  - `created_at` (string, **обязательный**): Дата создания (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
  - `last_activity_at` (string, **обязательный**): Дата последней активности пользователя (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
  - `time_zone` (string, **обязательный**): Часовой пояс пользователя
  - `image_url` (string, **обязательный**): Ссылка на скачивание аватарки пользователя

---

## Список сотрудников

**GET** `/users`

Список сотрудников

Метод для получения актуального списка сотрудников вашей компании.

**Параметры:**

- `query` (query, string, опциональный): Поисковая фраза для фильтрации результатов. Поиск работает по полям: `first_name` (имя), `last_name` (фамилия), `email` (электронная почта), `phone_number` (телефон) и `nickname` (никнейм).
- `limit` (query, integer, опциональный): Количество возвращаемых сущностей за один запрос
- `cursor` (query, string, опциональный): Курсор для пагинации (из `meta.paginate.next_page`)

**Пример:**

```bash
curl "https://api.pachca.com/api/shared/v1/users?query=user%40example.com&limit=50&cursor=string" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

**Ответ:**

- `meta` (object, опциональный): Метаданные пагинации
  - `paginate` (object, опциональный): Вспомогательная информация
    - `next_page` (string, опциональный): Курсор пагинации следующей страницы
- `data` (array[object], **обязательный**): 
  - `id` (integer, **обязательный**): Идентификатор пользователя
  - `first_name` (string, **обязательный**): Имя
  - `last_name` (string, **обязательный**): Фамилия
  - `nickname` (string, **обязательный**): Имя пользователя
  - `email` (string, **обязательный**): Электронная почта
  - `phone_number` (string, **обязательный**): Телефон
  - `department` (string, **обязательный**): Департамент
  - `title` (string, **обязательный**): Должность
  - `role` (object, **обязательный**): Уровень доступа
  - `suspended` (boolean, **обязательный**): Деактивация пользователя
  - `invite_status` (object, **обязательный**): Статус приглашения
  - `list_tags` (array[string], **обязательный**): Массив тегов, привязанных к сотруднику
  - `custom_properties` (array[object], **обязательный**): Дополнительные поля сотрудника
    - `id` (integer, **обязательный**): Идентификатор поля
    - `name` (string, **обязательный**): Название поля
    - `data_type` (object, **обязательный**): Тип поля
    - `value` (string, **обязательный**): Значение
  - `user_status` (object, **обязательный**): Статус
  - `bot` (boolean, **обязательный**): Является ботом
  - `sso` (boolean, **обязательный**): Использует ли пользователь SSO
  - `created_at` (string, **обязательный**): Дата создания (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
  - `last_activity_at` (string, **обязательный**): Дата последней активности пользователя (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
  - `time_zone` (string, **обязательный**): Часовой пояс пользователя
  - `image_url` (string, **обязательный**): Ссылка на скачивание аватарки пользователя

---

## Информация о сотруднике

**GET** `/users/{id}`

Информация о сотруднике

Метод для получения информации о сотруднике.

Для получения сотрудника вам необходимо знать его `id` и указать его в `URL` запроса.

**Параметры:**

- `id` (path, integer, **обязательный**): Идентификатор пользователя

**Пример:**

```bash
curl "https://api.pachca.com/api/shared/v1/users/12345" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

**Ответ:**

- `data` (object, **обязательный**): Сотрудник
  - `id` (integer, **обязательный**): Идентификатор пользователя
  - `first_name` (string, **обязательный**): Имя
  - `last_name` (string, **обязательный**): Фамилия
  - `nickname` (string, **обязательный**): Имя пользователя
  - `email` (string, **обязательный**): Электронная почта
  - `phone_number` (string, **обязательный**): Телефон
  - `department` (string, **обязательный**): Департамент
  - `title` (string, **обязательный**): Должность
  - `role` (object, **обязательный**): Уровень доступа
  - `suspended` (boolean, **обязательный**): Деактивация пользователя
  - `invite_status` (object, **обязательный**): Статус приглашения
  - `list_tags` (array[string], **обязательный**): Массив тегов, привязанных к сотруднику
  - `custom_properties` (array[object], **обязательный**): Дополнительные поля сотрудника
    - `id` (integer, **обязательный**): Идентификатор поля
    - `name` (string, **обязательный**): Название поля
    - `data_type` (object, **обязательный**): Тип поля
    - `value` (string, **обязательный**): Значение
  - `user_status` (object, **обязательный**): Статус
  - `bot` (boolean, **обязательный**): Является ботом
  - `sso` (boolean, **обязательный**): Использует ли пользователь SSO
  - `created_at` (string, **обязательный**): Дата создания (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
  - `last_activity_at` (string, **обязательный**): Дата последней активности пользователя (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
  - `time_zone` (string, **обязательный**): Часовой пояс пользователя
  - `image_url` (string, **обязательный**): Ссылка на скачивание аватарки пользователя

---

## Редактирование сотрудника

**PUT** `/users/{id}`

Редактирование сотрудника


Метод для редактирования сотрудника.

Для редактирования сотрудника вам необходимо знать его `id` и указать его в `URL` запроса. Все редактируемые параметры сотрудника указываются в теле запроса. Получить актуальный список идентификаторов дополнительных полей сотрудника вы можете в методе [Список дополнительных полей](GET /custom_properties).

**Параметры:**

- `id` (path, integer, **обязательный**): Идентификатор пользователя

**Тело запроса** (`application/json`):

- `user` (object, **обязательный**): Собранный объект параметров редактируемого сотрудника
  - `first_name` (string, опциональный): Имя
  - `last_name` (string, опциональный): Фамилия
  - `email` (string, опциональный): Электронная почта
  - `phone_number` (string, опциональный): Телефон
  - `nickname` (string, опциональный): Имя пользователя
  - `department` (string, опциональный): Департамент
  - `title` (string, опциональный): Должность
  - `role` (string (`admin` | `user` | `multi_guest`), опциональный): Уровень доступа
  - `suspended` (boolean, опциональный): Деактивация пользователя
  - `list_tags` (array[string], опциональный): Массив тегов, привязываемых к сотруднику
  - `custom_properties` (array[object], опциональный): Задаваемые дополнительные поля
    - `id` (integer, **обязательный**): Идентификатор поля
    - `value` (string, **обязательный**): Устанавливаемое значение

**Пример:**

```bash
curl -X PUT "https://api.pachca.com/api/shared/v1/users/12345" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
  "user": {
    "nickname": "olegpetrov",
    "role": "user",
    "list_tags": [
      "Product"
    ]
  }
}'
```

**Ответ:**

- `data` (object, **обязательный**): Сотрудник
  - `id` (integer, **обязательный**): Идентификатор пользователя
  - `first_name` (string, **обязательный**): Имя
  - `last_name` (string, **обязательный**): Фамилия
  - `nickname` (string, **обязательный**): Имя пользователя
  - `email` (string, **обязательный**): Электронная почта
  - `phone_number` (string, **обязательный**): Телефон
  - `department` (string, **обязательный**): Департамент
  - `title` (string, **обязательный**): Должность
  - `role` (object, **обязательный**): Уровень доступа
  - `suspended` (boolean, **обязательный**): Деактивация пользователя
  - `invite_status` (object, **обязательный**): Статус приглашения
  - `list_tags` (array[string], **обязательный**): Массив тегов, привязанных к сотруднику
  - `custom_properties` (array[object], **обязательный**): Дополнительные поля сотрудника
    - `id` (integer, **обязательный**): Идентификатор поля
    - `name` (string, **обязательный**): Название поля
    - `data_type` (object, **обязательный**): Тип поля
    - `value` (string, **обязательный**): Значение
  - `user_status` (object, **обязательный**): Статус
  - `bot` (boolean, **обязательный**): Является ботом
  - `sso` (boolean, **обязательный**): Использует ли пользователь SSO
  - `created_at` (string, **обязательный**): Дата создания (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
  - `last_activity_at` (string, **обязательный**): Дата последней активности пользователя (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
  - `time_zone` (string, **обязательный**): Часовой пояс пользователя
  - `image_url` (string, **обязательный**): Ссылка на скачивание аватарки пользователя

---

## Удаление сотрудника

**DELETE** `/users/{id}`

Удаление сотрудника


Метод для удаления сотрудника.

Для удаления сотрудника вам необходимо знать его `id` и указать его в `URL` запроса.

**Параметры:**

- `id` (path, integer, **обязательный**): Идентификатор пользователя

**Пример:**

```bash
curl -X DELETE "https://api.pachca.com/api/shared/v1/users/12345" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

---
