---
title: AI агенты
description: Как Пачка работает с AI-агентами и какие ресурсы доступны для интеграции
---

# AI агенты

## Пачка как среда для AI-агентов

Пачка — готовая среда для ваших AI-агентов. Упомяните агента в треде — остальное он сделает сам. Агент находится внутри разговора, видит контекст и действует автономно.

- **Агент — участник команды** — действует как сотрудник: читает обсуждения, создаёт задачи, отправляет результаты. Ответственность остаётся за человеком, агент выполняет работу
- **Треды как единица работы** — каждый тред изолирован, агент видит только его содержимое и отвечает туда же, не загрязняя общий чат
- **Сквозные треды** — упомяните любого сотрудника в треде, и он увидит весь контекст, даже если не состоит в исходном чате. Один тред — единая точка координации между людьми и агентом

<ImageCard src="/images/ai-agent-kai.jpg" alt="Пример работы AI-агента в треде Пачки" caption="Пример работы AI-агента в треде Пачки" />

<CardGroup columns={2}>
  <Card title="Ответ на вопрос" icon="CircleHelp">
    Читает тред, ищет ответ в базе знаний, отвечает в тот же тред
  </Card>
  <Card title="Задача из обсуждения" icon="ListTodo">
    Читает историю треда, формирует заголовок и описание, создаёт задачу в трекере
  </Card>
  <Card title="Обработка заявок" icon="ClipboardCheck">
    Получает заявку в канале, уточняет детали через форму, маршрутизирует ответственному
  </Card>
  <Card title="Диагностика CI" icon="Activity">
    Запрашивает статус CI-проверок, находит упавший джоб, читает логи и отвечает с диагнозом
  </Card>
  <Card title="Анализ файла" icon="FileSearch">
    Скачивает файл по ссылке из репозитория или веб-страницы, анализирует и отвечает в тред
  </Card>
  <Card title="Исследование компании" icon="Building2">
    Находит сайт компании, определяет размер команды, собирает ключевую информацию в отчёт
  </Card>
  <Card title="Мониторинг" icon="Eye">
    Следит за сообщениями в канале, при триггере отправляет уведомление или выполняет действие
  </Card>
  <Card title="Онбординг" icon="UserRoundPlus">
    Приветствует нового сотрудника, отправляет инструкции, помогает настроить профиль
  </Card>
  <Card title="Личный ассистент" icon="Sparkles">
    Напоминает о задачах, готовит дайджест непрочитанного, собирает повестку к встрече
  </Card>
  <Card title="Ответы коллегам" icon="MessageSquareReply">
    Отвечает на типовые вопросы от коллег, пока вы заняты, используя контекст ваших проектов
  </Card>
  <Card title="Поиск упоминаний" icon="AtSign">
    Находит все треды и сообщения, где вас упомянули, и собирает краткую сводку
  </Card>
</CardGroup>

## Как это работает

<Steps>
  <Step title="Получение события">
    Агент получает события через [исходящий вебхук](/guides/webhook) — упоминание по имени, ответ в тред или личное сообщение боту.
  </Step>
  <Step title="Сбор контекста">
    Агент читает историю сообщений треда через API и собирает контекст.
  </Step>
  <Step title="Выполнение действий">
    Агент выполняет нужные действия — отправляет сообщения, создаёт задачи, вызывает внешние сервисы.
  </Step>
  <Step title="Ответ">
    Результат агент отправляет обратно в тред или в личные сообщения через API.
  </Step>
</Steps>

## API-методы для типичных задач агента

| Задача | Метод | Описание |
|--------|-------|----------|
| Прочитать обсуждение | [Список сообщений чата](GET /messages) | Получить историю сообщений треда или чата |
| Ответить в тред | [Новый тред](POST /messages/{id}/thread), [Новое сообщение](POST /messages) | Создать тред и отправить ответ |
| Отправить результат | [Новое сообщение](POST /messages) | Отправить сообщение в канал или беседу |
| Показать статус работы | [Новая реакция](POST /messages/{id}/reactions), [Удаление реакции](DELETE /messages/{id}/reactions) | Поставить реакцию-индикатор и снять по завершении |
| Получить контекст | [Информация о чате](GET /chats/{id}) | Узнать участников и тему чата |
| Получить события | [Исходящий Webhook](/guides/webhook) | Получать уведомления о новых сообщениях в реальном времени |

## Практические советы

- **Реакции как индикатор** — агент ставит реакцию (например, ⏳) при получении запроса и снимает по завершении. Пользователь сразу видит, что агент работает
- **Один бот — один агент** — создайте отдельного бота для каждого агента, чтобы разделить права и логику
- **Контекст из треда** — читайте историю треда перед ответом, а не только последнее сообщение. Так агент учитывает весь контекст разговора
- **Обработка ошибок** — если агент не может выполнить задачу, пусть он ответит в тред с пояснением, а не молчит. Прозрачность действий важнее идеального результата

## Ресурсы для AI-агентов

### Agent Skills (SKILL.md)

Описание API в формате skill-файлов для подключения к AI-агентам. Каждый скилл покрывает одну предметную область и содержит пошаговые сценарии с curl-примерами, обработку ошибок и gotchas.

| Скилл | Описание |
|-------|----------|
| `pachca-messages` | Отправка сообщений, ответы в треды, загрузка файлов, кнопки, реакции |
| `pachca-chats` | Управление каналами и беседами, участники, архивация, экспорт |
| `pachca-users` | Управление сотрудниками и тегами (группами) |
| `pachca-profile` | Профиль текущего пользователя, статус, кастомные поля |
| `pachca-bots` | Боты, входящие/исходящие вебхуки, разворачивание ссылок |
| `pachca-forms` | Интерактивные формы с полями ввода и кнопками |
| `pachca-tasks` | Создание и управление задачами (напоминаниями) |
| `pachca-security` | Журнал аудита событий и DLP-система |

Скиллы соответствуют [Agent Skills Discovery RFC](https://github.com/cloudflare/agent-skills-discovery-rfc) и совместимы с 40+ AI-агентами через [Vercel Skills CLI](https://github.com/vercel-labs/skills).

### Другие форматы

<CardGroup columns={2}>
  <Card title="llms.txt" icon="FileText" href="/llms.txt">
    Краткая сводка документации со ссылками на страницы в markdown-формате. Соответствует стандарту llms.txt.
  </Card>
  <Card title="llms-full.txt" icon="FileText" href="/llms-full.txt">
    Полная документация в одном файле для загрузки в контекст агента. Содержит все руководства и описания методов.
  </Card>
  <Card title="OpenAPI-спецификация" icon="ArrowLeftRight" href="/openapi.yaml">
    OpenAPI 3.0 спецификация для кодогенерации, парсинга и автоматического создания клиентов.
  </Card>
  <Card title="Context7" icon="Zap" href="https://context7.com/pachca/openapi">
    Документация Пачки в Context7 — MCP-сервер с актуальной документацией для AI-агентов.
  </Card>
</CardGroup>

<Info>
  Любая страница документации доступна в markdown-формате — добавьте `.md` к адресу страницы. Например: `/guides/webhook.md`
</Info>

## Как подключить Пачку к вашему агенту

### Через Agent Skills (рекомендуется)

Универсальный способ для 40+ AI-агентов (Claude Code, Cursor, Codex, Windsurf, Continue и др.).

<CodeBlock language="bash" title="Agent Skills">
  {`npx skills add dev.pachca.com`}
</CodeBlock>

Команда автоматически определит установленные агенты и подключит скиллы Пачки. Агент получит пошаговые сценарии для всех типичных задач — от отправки сообщений до работы с формами.

<Info>
  Скиллы доступны в [репозитории на GitHub](https://github.com/pachca/openapi/tree/main/.agents/skills). Устанавливайте скиллы только из официального репозитория.
</Info>

### Через Context7 MCP

Для AI-агентов с поддержкой MCP (Claude Code, Cursor, Windsurf и др.). [Context7](https://context7.com) — MCP-сервер, который отдаёт актуальную документацию прямо в контекст агента. Документация Пачки доступна по адресу [context7.com/pachca/openapi](https://context7.com/pachca/openapi).

<CodeBlock language="bash" title="Claude Code">
  {`claude mcp add context7 https://mcp.context7.com/mcp`}
</CodeBlock>

Для других агентов добавьте MCP-сервер `https://mcp.context7.com/mcp` в настройках. Чтобы агент использовал документацию Пачки, добавьте в промпт `use context7` или настройте это через правила агента.

### Через llms-full.txt

Подходит для агентов, которые не поддерживают формат Agent Skills, но позволяют загружать текст в контекст (ChatGPT, собственные агенты на базе LLM).

<CodeBlock language="text" title="llms-full.txt">
  {`https://dev.pachca.com/llms-full.txt`}
</CodeBlock>

### Через OpenAPI-спецификацию

Подходит для кодогенераторов (openapi-generator, Kiota, Orval) и агентов, которые умеют работать с OpenAPI напрямую (GPT Actions).

<CodeBlock language="text" title="OpenAPI">
  {`https://dev.pachca.com/openapi.yaml`}
</CodeBlock>
