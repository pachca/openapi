---
title: Журнал аудита событий
description: Отслеживание событий безопасности
---

# Пачка Audit Events API

#corporation_price_only #owner_access_token_required

`Audit events API` Пачки предоставляет командам безопасности доступ к логам о критически важных событиях в мессенджере. Это позволяет обеспечивать надежный мониторинг и соответствовать требованиям информационной безопасности и регуляторов.

Для получения логов событий на основе указанных фильтров используйте метод [Журнал аудита событий](GET /audit-events).

## Реализованные типы событий

В текущей версии API реализованы следующие типы событий:

### События аутентификации

- `user_login` - пользователь успешно вошел в систему
- `user_logout` - пользователь вышел из системы

### События управления пользователями

- `user_created` - создана новая учетная запись пользователя
- `user_deleted` - учетная запись пользователя удалена
- `user_role_changed` - роль пользователя была изменена
- `user_updated` - данные пользователя обновлены

### События управления тегами

- `tag_created` - создан новый тег
- `tag_deleted` - тег удален
- `user_added_to_tag` - пользователь добавлен в тег
- `user_removed_from_tag` - пользователь удален из тега

### События управления чатами

- `chat_created` - создан новый чат
- `chat_renamed` - чат переименован
- `chat_permission_changed` - изменены права доступа к чату
- `user_chat_join` - пользователь присоединился к чату
- `user_chat_leave` - пользователь покинул чат
- `tag_added_to_chat` - тег добавлен в чат
- `tag_removed_from_chat` - тег удален из чата

### События сообщений

- `message_updated` - сообщение отредактировано
- `message_deleted` - сообщение удалено

### События безопасности

- `audit_events_accessed` - доступ к журналам аудита получен
- `dlp_violation_detected` - срабатывание правила [DLP-системы](/guides/dlp)

## Примеры использования

<CodeBlock language="bash" title="Получение всех событий входа в систему за определенный период">
  {`curl --location 'https://api.pachca.com/api/shared/v1/audit_events' \\
--header 'Authorization: ••••••' \\
--data-urlencode 'start_time=2025-05-01T00:00:00Z' \\
--data-urlencode 'end_time=2025-05-02T00:00:00Z' \\
--data-urlencode 'event_key=user_login' \\
--data-urlencode 'limit=50'`}
</CodeBlock>

<CodeBlock language="bash" title="Получение всех событий, связанных с конкретным пользователем">
  {`curl --location 'https://api.pachca.com/api/shared/v1/audit_events' \\
--header 'Authorization: ••••••' \\
--data-urlencode 'actor_id=133321' \\
--data-urlencode 'actor_type=User' \\
--data-urlencode 'start_time=2025-05-01T00:00:00Z' \\
--data-urlencode 'end_time=2025-05-02T00:00:00Z'`}
</CodeBlock>

<CodeBlock language="bash" title="Получение всех изменений прав доступа к чатам">
  {`curl --location 'https://api.pachca.com/api/shared/v1/audit_events' \\
--header 'Authorization: ••••••' \\
--data-urlencode 'event_key=chat_permission_changed' \\
--data-urlencode 'start_time=2025-05-01T00:00:00Z' \\
--data-urlencode 'end_time=2025-05-08T00:00:00Z'`}
</CodeBlock>

## Хранение данных

Журналы аудита хранятся в течение 90 дней для баланса между требованиями соответствия и эффективностью хранения. Все журналы неизменяемы и хранятся в системе только для чтения, чтобы обеспечить целостность данных.

## Типичные сценарии использования

- Расследовать подозрительные попытки входа в систему
- Отслеживать изменения прав доступа
- Отслеживать действия по удалению сообщений
- Расследовать изменения ролей пользователей
- Отслеживать изменения в составе участников чатов
- Составлять отчеты о соответствии требованиям и во время аудита

## Ограничения

- Текущая версия API поддерживает только типы событий, указанные в документации
- Данные собираются только с 12 мая 2025 года
- За один запрос можно запросить только один тип события
- Список событий и фильтры планируется развивать в следующих версиях
