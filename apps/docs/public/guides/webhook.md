
# –ò—Å—Ö–æ–¥—è—â–∏–π Webhook

–ò—Å—Ö–æ–¥—è—â–∏–µ –≤–µ–±—Ö—É–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∞–º –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–±—ã—Ç–∏—è—Ö –≤ –≤–∞—à–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –≠—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —Ä–µ–∞–∫—Ü–∏–∏, —á–∞—Ç—ã, —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∏ —Ç–¥.

–í–µ–±—Ö—É–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π `JSON` –æ–±—ä–µ–∫—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–π –≤ –º–æ–º–µ–Ω—Ç –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞ `URL`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –Ω–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–æ–π –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π. –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ–±—ä–µ–∫—Ç–∞—Ö, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ `JSON` - –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `API` –∏ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

–ö–∞–∂–¥—ã–π –∏—Å—Ö–æ–¥—è—â–∏–π –≤–µ–±—Ö—É–∫ –∑–∞—â–∏—â—ë–Ω —Å –ø–æ–º–æ—â—å—é –ø–æ–¥–ø–∏—Å–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º, –∞ —Ç–∞–∫–∂–µ –æ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–∞—Ö –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤ –±–ª–æ–∫–µ [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å).

## –ö–∞–∫ –ø–æ–ª—É—á–∞—Ç—å Webhook

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–µ–±—Ö—É–∫–æ–≤ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ **¬´–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏¬ª** ‚Üí **¬´–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏¬ª** ‚Üí **¬´–ß–∞—Ç-–±–æ—Ç—ã –∏ –í–µ–±—Ö—É–∫–∏¬ª**.

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **¬´–ò—Å—Ö–æ–¥—è—â–∏–π webhook¬ª** ‚Äî —Ç–∞–º –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å **Webhook URL**, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –ü–∞—á–∫–∞ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è, –∏ –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç.

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π —Ç—Ä–µ–±—É—é—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞ –≤ —á–∞—Ç—ã ‚Äî —Å–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ —Ç–µ–º —á–∞—Ç–∞–º, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ—Å—Ç–æ–∏—Ç –±–æ—Ç. –ï—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞), –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞ –≤ —á–∞—Ç.

> –û —Ç–æ–º, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ –∏ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ —á–∞—Ç—ã, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤ —Å—Ç–∞—Ç—å–µ
  [–ß–∞—Ç-–±–æ—Ç—ã —á–µ—Ä–µ–∑ Webhook/API](https://www.pachca.com/articles/webhook)


## –ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

–î–∞–Ω–Ω—ã–π –≤–µ–±—Ö—É–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ, –≥–¥–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –±–æ—Ç.

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –∫–∞–∫ –≤—Å–µ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ, —Ç–∞–∫ –∏ —Ç–æ–ª—å–∫–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥. –≠—Ç–æ –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –ø–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π, –∞ –≤–∞–º –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–∑–≤–∞—Ç—å –∫–∞–∫–æ–π-—Ç–æ —Å—Ü–µ–Ω–∞—Ä–∏–π.

#### MessageWebhookPayload

- `type` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
  - –ü—Ä–∏–º–µ—Ä: `message`
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `message`: –î–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤—Å–µ–≥–¥–∞ message
- `id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è
  - –ü—Ä–∏–º–µ—Ä: `1245817`
- `event` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `new`: –°–æ–∑–¥–∞–Ω–∏–µ
    - `update`: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    - `delete`: –£–¥–∞–ª–µ–Ω–∏–µ
- `entity_type` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø —Å—É—â–Ω–æ—Å—Ç–∏, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `discussion`: –ë–µ—Å–µ–¥–∞ –∏–ª–∏ –∫–∞–Ω–∞–ª
    - `thread`: –¢—Ä–µ–¥
    - `user`: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `entity_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—É—â–Ω–æ—Å—Ç–∏, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ
  - –ü—Ä–∏–º–µ—Ä: `5678`
- `content` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
  - –ü—Ä–∏–º–µ—Ä: `–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è`
- `user_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è
  - –ü—Ä–∏–º–µ—Ä: `2345`
- `created_at` (string, date-time, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è (ISO-8601, UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DDThh:mm:ss.sssZ
  - –ü—Ä–∏–º–µ—Ä: `2025-05-15T14:30:00.000Z`
- `url` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
  - –ü—Ä–∏–º–µ—Ä: `https://pachca.com/chats/1245817/messages/5678`
- `chat_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ
  - –ü—Ä–∏–º–µ—Ä: `9012`
- `parent_message_id` (integer, int32, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –Ω–∞–ø–∏—Å–∞–Ω –æ—Ç–≤–µ—Ç
  - –ü—Ä–∏–º–µ—Ä: `3456`
- `thread` (object, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –û–±—ä–µ–∫—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ç—Ä–µ–¥–∞
  - `message_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª —Å–æ–∑–¥–∞–Ω —Ç—Ä–µ–¥
    - –ü—Ä–∏–º–µ—Ä: `12345`
  - `message_chat_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª —Å–æ–∑–¥–∞–Ω —Ç—Ä–µ–¥
    - –ü—Ä–∏–º–µ—Ä: `67890`
- `webhook_timestamp` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞ (UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ UNIX
  - –ü—Ä–∏–º–µ—Ä: `1747574400`


## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–π

–î–∞–Ω–Ω—ã–π –≤–µ–±—Ö—É–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ, –≥–¥–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –±–æ—Ç.

#### ReactionWebhookPayload

- `type` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
  - –ü—Ä–∏–º–µ—Ä: `reaction`
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `reaction`: –î–ª—è —Ä–µ–∞–∫—Ü–∏–π –≤—Å–µ–≥–¥–∞ reaction
- `event` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `new`: –°–æ–∑–¥–∞–Ω–∏–µ
    - `delete`: –£–¥–∞–ª–µ–Ω–∏–µ
- `message_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Ä–µ–∞–∫—Ü–∏—è
  - –ü—Ä–∏–º–µ—Ä: `1245817`
- `code` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): Emoji —Å–∏–º–≤–æ–ª —Ä–µ–∞–∫—Ü–∏–∏
  - –ü—Ä–∏–º–µ—Ä: `üëç`
- `name` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏
  - –ü—Ä–∏–º–µ—Ä: `thumbsup`
- `user_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–∏–ª –∏–ª–∏ —É–¥–∞–ª–∏–ª —Ä–µ–∞–∫—Ü–∏—é
  - –ü—Ä–∏–º–µ—Ä: `2345`
- `created_at` (string, date-time, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è (ISO-8601, UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DDThh:mm:ss.sssZ
  - –ü—Ä–∏–º–µ—Ä: `2025-05-15T14:30:00.000Z`
- `webhook_timestamp` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞ (UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ UNIX
  - –ü—Ä–∏–º–µ—Ä: `1747574400`


## –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–æ–∫

–î–∞–Ω–Ω—ã–π –≤–µ–±—Ö—É–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ `Data-–∫–Ω–æ–ø–∫–∏` –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ—Ç –±–æ—Ç–∞. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ –≤–µ–±—Ö—É–∫–∞ –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ—Ç–æ–¥–æ–º [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è](PUT /messages/{id}) –∏ –∏–∑–º–µ–Ω–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –∫–Ω–æ–ø–∫–∏ —É —Å–æ–æ–±—â–µ–Ω–∏—è –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å [–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ](POST /messages) –∫–∞–∫ —Ä–µ–∞–∫—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–∞–±–æ—Ç–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –≤ –±–æ—Ç–∞—Ö –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤ —Å—Ç–∞—Ç—å–µ [–ö–Ω–æ–ø–∫–∏ –≤ —á–∞—Ç-–±–æ—Ç–∞—Ö](https://www.pachca.com/articles/knopki-v-chat-botah)

#### ButtonWebhookPayload

- `type` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
  - –ü—Ä–∏–º–µ—Ä: `button`
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `button`: –î–ª—è –∫–Ω–æ–ø–∫–∏ –≤—Å–µ–≥–¥–∞ button
- `event` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
  - –ü—Ä–∏–º–µ—Ä: `click`
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `click`: –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏
- `message_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞
  - –ü—Ä–∏–º–µ—Ä: `1245817`
- `trigger_id` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏—è. –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ ‚Äî 3 —Å–µ–∫—É–Ω–¥—ã. –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - –ü—Ä–∏–º–µ—Ä: `a1b2c3d4-5e6f-7g8h-9i10-j11k12l13m14`
- `data` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞–Ω–Ω—ã–µ –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–∏
  - –ü—Ä–∏–º–µ—Ä: `button_data`
- `user_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∂–∞–ª –∫–Ω–æ–ø–∫—É
  - –ü—Ä–∏–º–µ—Ä: `2345`
- `chat_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞
  - –ü—Ä–∏–º–µ—Ä: `9012`
- `webhook_timestamp` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞ (UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ UNIX
  - –ü—Ä–∏–º–µ—Ä: `1747574400`


## –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–æ–≤

–î–∞–Ω–Ω—ã–π –≤–µ–±—Ö—É–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–∞–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–æ–≤, –≥–¥–µ —Å–æ—Å—Ç–æ–∏—Ç –±–æ—Ç, –∏ –≤ —Ç—Ä–µ–¥–∞—Ö —ç—Ç–∏—Ö —á–∞—Ç–æ–≤.

#### ChatMemberWebhookPayload

- `type` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
  - –ü—Ä–∏–º–µ—Ä: `chat_member`
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `chat_member`: –î–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ —á–∞—Ç–∞ –≤—Å–µ–≥–¥–∞ chat_member
- `event` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `add`: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ
    - `remove`: –£–¥–∞–ª–µ–Ω–∏–µ
- `chat_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏–∑–º–µ–Ω–∏–ª—Å—è —Å–æ—Å—Ç–∞–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
  - –ü—Ä–∏–º–µ—Ä: `9012`
- `thread_id` (integer, int32, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç—Ä–µ–¥–∞
  - –ü—Ä–∏–º–µ—Ä: `5678`
- `user_ids` (array[integer], **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ú–∞—Å—Å–∏–≤ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ
  - –ü—Ä–∏–º–µ—Ä: `[2345,6789]`
- `created_at` (string, date-time, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è (ISO-8601, UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DDThh:mm:ss.sssZ
  - –ü—Ä–∏–º–µ—Ä: `2025-05-15T14:30:00.000Z`
- `webhook_timestamp` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞ (UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ UNIX
  - –ü—Ä–∏–º–µ—Ä: `1747574400`


## –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞

–î–∞–Ω–Ω—ã–π –≤–µ–±—Ö—É–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–∞–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, –≤–∫–ª—é—á–∞—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è event).

#### CompanyMemberWebhookPayload

- `type` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
  - –ü—Ä–∏–º–µ—Ä: `company_member`
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `company_member`: –î–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –≤—Å–µ–≥–¥–∞ company_member
- `event` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `invite`: –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
    - `confirm`: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    - `update`: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    - `suspend`: –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞
    - `activate`: –ê–∫—Ç–∏–≤–∞—Ü–∏—è
    - `delete`: –£–¥–∞–ª–µ–Ω–∏–µ
- `user_ids` (array[integer], **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ú–∞—Å—Å–∏–≤ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ
  - –ü—Ä–∏–º–µ—Ä: `[2345,6789]`
- `created_at` (string, date-time, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è (ISO-8601, UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DDThh:mm:ss.sssZ
  - –ü—Ä–∏–º–µ—Ä: `2025-05-15T14:30:00.000Z`
- `webhook_timestamp` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞ (UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ UNIX
  - –ü—Ä–∏–º–µ—Ä: `1747574400`


## –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫

–î–∞–Ω–Ω—ã–π –≤–µ–±—Ö—É–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–¥–∏–Ω –∏–∑ –¥–æ–º–µ–Ω–æ–≤, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Unfurl-–±–æ—Ç–∞. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∞–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ Unfurl-–±–æ—Ç–∞. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ –≤–µ–±—Ö—É–∫–∞ –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ—Ç–æ–¥–æ–º [Unfurl (—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫)](POST /messages/{id}/link_previews) –∏ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Å—ã–ª–∫–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏ —Å—Å—ã–ª–æ–∫ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤ —Å—Ç–∞—Ç—å–µ [Unfurling —Å—Å—ã–ª–æ–∫ –≤ –ü–∞—á–∫–µ](https://www.pachca.com/articles/unfurling-ssylok-v-pachce)

#### LinkSharedWebhookPayload

- `type` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞
  - –ü—Ä–∏–º–µ—Ä: `message`
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `message`: –î–ª—è —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è —Å—Å—ã–ª–æ–∫ –≤—Å–µ–≥–¥–∞ message
- `event` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –¢–∏–ø —Å–æ–±—ã—Ç–∏—è
  - –ü—Ä–∏–º–µ—Ä: `link_shared`
  - **–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
    - `link_shared`: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–π –¥–æ–º–µ–Ω
- `chat_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Å—Å—ã–ª–∫–∞
  - –ü—Ä–∏–º–µ—Ä: `23438`
- `message_id` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ —Å—Å—ã–ª–∫—É
  - –ü—Ä–∏–º–µ—Ä: `268092`
- `links` (array[object], **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –ú–∞—Å—Å–∏–≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –¥–æ–º–µ–Ω—ã
  - `url` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): URL —Å—Å—ã–ª–∫–∏
    - –ü—Ä–∏–º–µ—Ä: `https://example.com/page1`
  - `domain` (string, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–æ–º–µ–Ω —Å—Å—ã–ª–∫–∏
    - –ü—Ä–∏–º–µ—Ä: `example.com`
- `created_at` (string, date-time, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è (ISO-8601, UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DDThh:mm:ss.sssZ
  - –ü—Ä–∏–º–µ—Ä: `2024-09-18T19:53:14.000Z`
- `webhook_timestamp` (integer, int32, **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π**): –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞ (UTC+0) –≤ —Ñ–æ—Ä–º–∞—Ç–µ UNIX
  - –ü—Ä–∏–º–µ—Ä: `1726685594`


## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ö–∞–∂–¥—ã–π –∏—Å—Ö–æ–¥—è—â–∏–π –≤–µ–±—Ö—É–∫ –∑–∞—â–∏—â—ë–Ω —Å –ø–æ–º–æ—â—å—é –ø–æ–¥–ø–∏—Å–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ. –ü–æ–¥–ø–∏—Å—å `HMAC` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞ `SHA256` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Pachca-Signature`.

–í —Ç–µ–ª–µ –≤–µ–±—Ö—É–∫–∞ —Ç–∞–∫–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –ø–æ–ª–µ `webhook_timestamp` ‚Äî –º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ UNIX, —É–∫–∞–∑—ã–≤–∞—é—â–∞—è –º–æ–º–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–π –º–∏–Ω—É—Ç—ã –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∞—Ç–∞–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (replay attacks).

**–ü—Ä–∏–º–µ—Ä –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –≤–µ–±—Ö—É–∫–∞ (–Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)**

```http
POST https://yourweb.site/read HTTP/1.1
host: yourweb.site
content-Type: application/json
pachca-signature: a805d3470c263f4628cafc4ed66235d8fe2229891d1fcf4e400331adff5d8e5a
user-agent: Faraday v2.12.2
content-length: 358

{
    "event": "new",
    "type": "message",
    "webhook_timestamp": 1744618734,
    "chat_id": 918264,
    "content": "–ö–ª–∏–µ–Ω—Ç –ø—Ä–æ—Å–∏—Ç –ø–æ–ø—Ä–∞–≤–∏—Ç—å —à–∞–ø–∫—É, –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ",
    "user_id": 134412,
    "id": 56431,
    "created_at": "2025-04-14T08:18:54.000Z",
    "parent_message_id": null,
    "entity_type": "discussion",
    "entity_id": 918264,
    "thread": null,
    "url": "https://app.pachca.com/chats/124511?message=56431"
}
```


  ### –®–∞–≥ 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–ø–∏—Å—å

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã—á–∏—Å–ª–∏—Ç—å –µ—ë —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è —Å–µ–∫—Ä–µ—Ç –≤–µ–±—Ö—É–∫–∞ `Signing secret`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞ –≤–æ –≤–∫–ª–∞–¥–∫–µ ¬´–ò—Å—Ö–æ–¥—è—â–∏–π webhook¬ª. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—ã—Ä–æ–π (raw) –∫–æ–Ω—Ç–µ–Ω—Ç —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ö–µ—à–∞, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏ JSON-–ø–∞—Ä—Å–∏–Ω–≥–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–æ.

    **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏**

```javascript
// WEBHOOK_SECRET - –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è Signing secret –≤–æ –≤–∫–ª–∞–¥–∫–µ ¬´–ò—Å—Ö–æ–¥—è—â–∏–π webhook¬ª –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞

const signature = crypto.createHmac("sha256", WEBHOOK_SECRET).update(rawBody).digest("hex");
if (signature !== request.headers['pachca-signature']) {
    throw "Invalid signature"
}
```


  ### –®–∞–≥ 2. –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ IP-–∞–¥—Ä–µ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è

–ö—Ä–æ–º–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏, —Ç–∞–∫–∂–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å IP-–∞–¥—Ä–µ—Å–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è.

    IP-–∞–¥—Ä–µ—Å –ü–∞—á–∫–∏: `37.200.70.177`


