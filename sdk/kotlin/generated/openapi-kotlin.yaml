openapi: 3.0.0
info:
  title: Pachca API
  version: 1.0.0
tags:
  - name: Common
  - name: Profile
  - name: Users
  - name: Group tags
  - name: Chats
  - name: Members
  - name: Thread
  - name: Messages
  - name: Read member
  - name: Reactions
  - name: Link Previews
  - name: Search
  - name: Tasks
  - name: Views
  - name: Bots
  - name: Security
paths:
  /audit_events:
    get:
      operationId: SecurityOperations_getAuditEvents
      description: |-
        Журнал аудита событий

        Метод для получения логов событий на основе указанных фильтров.
      parameters:
        - name: start_time
          in: query
          required: true
          description: Начальная метка времени (включительно)
          schema:
            type: string
            format: date-time
            example: 2025-05-01T09:11:00Z
          example: 2025-05-01T09:11:00Z
          explode: false
        - name: end_time
          in: query
          required: true
          description: Конечная метка времени (исключительно)
          schema:
            type: string
            format: date-time
            example: 2025-05-02T09:11:00Z
          example: 2025-05-02T09:11:00Z
          explode: false
        - name: event_key
          in: query
          required: false
          description: Фильтр по конкретному типу события
          schema:
            $ref: "#/components/schemas/AuditEventKey"
            example: user_login
          example: user_login
          explode: false
        - name: actor_id
          in: query
          required: false
          description: Идентификатор пользователя, выполнившего действие
          schema:
            type: string
            example: "98765"
          example: "98765"
          explode: false
        - name: actor_type
          in: query
          required: false
          description: Тип актора
          schema:
            type: string
            example: User
          example: User
          explode: false
        - name: entity_id
          in: query
          required: false
          description: Идентификатор затронутой сущности
          schema:
            type: string
            example: "98765"
          example: "98765"
          explode: false
        - name: entity_type
          in: query
          required: false
          description: Тип сущности
          schema:
            type: string
            example: User
          example: User
          explode: false
        - name: limit
          in: query
          required: false
          description: Количество записей для возврата
          schema:
            type: integer
            format: int32
            maximum: 50
            example: 1
            default: 50
          example: 1
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации из meta.paginate.next_page
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/AuditEvent"
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Security
      x-requirements:
        scope: audit_events:read
        plan: corporation
  /bots/{id}:
    put:
      operationId: BotOperations_updateBot
      description: >-
        Редактирование бота


        Метод для редактирования бота.


        Для редактирования бота вам необходимо знать его `user_id` и указать его
        в `URL` запроса. Все редактируемые параметры бота указываются в теле
        запроса. Узнать `user_id` бота можно в настройках бота во вкладке «API».


        Вы не можете редактировать бота, настройки которого вам недоступны (поле
        «Кто может редактировать настройки бота» находится во вкладке «Основное»
        в настройках бота).
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор бота
          schema:
            type: integer
            format: int32
            example: 1738816
          example: 1738816
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/BotResponse"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Bots
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BotUpdateRequest"
      x-requirements:
        scope: bots:write
  /chats:
    post:
      operationId: ChatOperations_createChat
      description: >-
        Новый чат


        Метод для создания нового чата.


        Для создания личной переписки 1 на 1 с пользователем пользуйтесь методом
        [Новое сообщение](POST /messages).


        При создании чата вы автоматически становитесь участником.
      parameters: []
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Chat"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Chats
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChatCreateRequest"
      x-requirements:
        scope: chats:create
    get:
      operationId: ChatOperations_listChats
      description: |-
        Список чатов

        Метод для получения списка чатов по заданным параметрам.
      parameters:
        - name: sort[{field}]
          in: query
          required: false
          description: Составной параметр сортировки сущностей выборки
          schema:
            allOf:
              - $ref: "#/components/schemas/SortOrder"
            default: desc
          example: desc
          x-param-names:
            - name: sort[id]
              description: Идентификатор чата
            - name: sort[last_message_at]
              description: Дата и время создания последнего сообщения
          explode: false
        - name: availability
          in: query
          required: false
          description: Параметр, который отвечает за доступность и выборку чатов для
            пользователя
          schema:
            allOf:
              - $ref: "#/components/schemas/ChatAvailability"
            default: is_member
          example: is_member
          explode: false
        - name: last_message_at_after
          in: query
          required: false
          description: Фильтрация по времени создания последнего сообщения. Будут
            возвращены те чаты, время последнего созданного сообщения в которых
            не раньше чем указанное (в формате YYYY-MM-DDThh:mm:ss.sssZ).
          schema:
            type: string
            format: date-time
            example: 2025-01-01T00:00:00.000Z
          example: 2025-01-01T00:00:00.000Z
          explode: false
        - name: last_message_at_before
          in: query
          required: false
          description: Фильтрация по времени создания последнего сообщения. Будут
            возвращены те чаты, время последнего созданного сообщения в которых
            не позже чем указанное (в формате YYYY-MM-DDThh:mm:ss.sssZ).
          schema:
            type: string
            format: date-time
            example: 2025-02-01T00:00:00.000Z
          example: 2025-02-01T00:00:00.000Z
          explode: false
        - name: personal
          in: query
          required: false
          description: Фильтрация по личным и групповым чатам. Если параметр не указан,
            возвращаются любые чаты.
          schema:
            type: boolean
            example: false
          example: false
          explode: false
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых сущностей за один запрос
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
            example: 1
            default: 50
          example: 1
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из meta.paginate.next_page)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/Chat"
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Chats
      x-requirements:
        scope: chats:read
  /chats/exports:
    post:
      operationId: ExportOperations_requestExport
      description: |-
        Экспорт сообщений

        Метод для запрашивания экспорта сообщений за указанный период.
      parameters: []
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: "#/components/schemas/ApiError"
                  - $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Common
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ExportRequest"
      x-requirements:
        scope: chat_exports:write
        plan: corporation
  /chats/exports/{id}:
    get:
      operationId: ExportOperations_downloadExport
      description: >-
        Скачать архив экспорта


        Метод для скачивания готового архива экспорта сообщений.


        Для получения архива вам необходимо знать его `id` и указать его в `URL`
        запроса.


        В ответ на запрос сервер вернёт `302 Found` с заголовком `Location`,
        содержащим временную ссылку на скачивание файла. Большинство
        HTTP-клиентов автоматически следуют редиректу и скачивают файл.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор экспорта
          schema:
            type: integer
            format: int32
            example: 22322
          example: 22322
      responses:
        "302":
          description: Redirection
          headers:
            location:
              required: true
              schema:
                type: string
                format: uri
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: "#/components/schemas/OAuthError"
                  - anyOf:
                      - $ref: "#/components/schemas/ApiError"
                      - $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Common
      x-requirements:
        scope: chat_exports:read
        plan: corporation
  /chats/{id}:
    get:
      operationId: ChatOperations_getChat
      description: >-
        Информация о чате


        Метод для получения информации о чате.


        Для получения чата вам необходимо знать его `id` и указать его в `URL`
        запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Chat"
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Chats
      x-requirements:
        scope: chats:read
    put:
      operationId: ChatOperations_updateChat
      description: >-
        Обновление чата


        Метод для обновления параметров чата.


        Для обновления нужно знать `id` чата и указать его в `URL`. Все
        обновляемые поля передаются в теле запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Chat"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Chats
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChatUpdateRequest"
      x-requirements:
        scope: chats:update
  /chats/{id}/archive:
    put:
      operationId: ChatOperations_archiveChat
      description: >-
        Архивация чата


        Метод для отправки чата в архив.


        Для отправки чата в архив вам необходимо знать `id` и указать его в
        `URL` запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Chats
      x-requirements:
        scope: chats:archive
  /chats/{id}/group_tags:
    post:
      operationId: ChatMemberOperations_addTags
      description: >-
        Добавление тегов


        Метод для добавления тегов в состав участников беседы или канала.


        После добавления тега все его участники автоматически становятся
        участниками чата. Состав участников тега и чата синхронизируется
        автоматически: при добавлении нового участника в тег он сразу появляется
        в чате, при удалении из тега — удаляется из чата.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Members
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddTagsRequest"
      x-requirements:
        scope: chat_members:write
  /chats/{id}/group_tags/{tag_id}:
    delete:
      operationId: ChatMemberOperations_removeTag
      description: >-
        Исключение тега


        Метод для исключения тега из состава участников беседы или канала.


        Для исключения тега вам необходимо знать его `id` и указать его в `URL`
        запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
        - name: tag_id
          in: path
          required: true
          description: Идентификатор тега
          schema:
            type: integer
            format: int32
            example: 86
          example: 86
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Members
      x-requirements:
        scope: chat_members:write
  /chats/{id}/leave:
    delete:
      operationId: ChatMemberOperations_leaveChat
      description: |-
        Выход из беседы или канала

        Метод для самостоятельного выхода из беседы или канала.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Members
      x-requirements:
        scope: chats:leave
  /chats/{id}/members:
    get:
      operationId: ChatMemberOperations_listMembers
      description: >-
        Список участников чата


        Метод для получения актуального списка участников чата.


        Владелец пространства может получить состав участников любого чата
        пространства. Администраторы и боты могут получить список участников
        только тех чатов, в которых состоят (или которые являются открытыми).
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
        - name: role
          in: query
          required: false
          description: Роль в чате
          schema:
            allOf:
              - $ref: "#/components/schemas/ChatMemberRoleFilter"
            default: all
          example: all
          explode: false
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых сущностей за один запрос
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
            example: 1
            default: 50
          example: 1
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из meta.paginate.next_page)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Members
      x-requirements:
        scope: chat_members:read
    post:
      operationId: ChatMemberOperations_addMembers
      description: >-
        Добавление пользователей


        Метод для добавления пользователей в состав участников беседы, канала
        или треда.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата (беседа, канал или чат треда)
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Members
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddMembersRequest"
      x-requirements:
        scope: chat_members:write
  /chats/{id}/members/{user_id}:
    delete:
      operationId: ChatMemberOperations_removeMember
      description: >-
        Исключение пользователя


        Метод для исключения пользователя из состава участников беседы или
        канала.


        Если пользователь является владельцем чата, то исключить его нельзя. Он
        может только самостоятельно выйти из чата, воспользовавшись методом
        [Выход из беседы или канала](DELETE /chats/{id}/leave).
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
        - name: user_id
          in: path
          required: true
          description: Идентификатор пользователя
          schema:
            type: integer
            format: int32
            example: 186
          example: 186
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Members
      x-requirements:
        scope: chat_members:write
    put:
      operationId: ChatMemberOperations_updateMemberRole
      description: >-
        Редактирование роли


        Метод для редактирования роли пользователя или бота в беседе или канале.


        Для редактирования роли в беседе или канале вам необходимо знать `id`
        чата и пользователя (или бота) и указать их в `URL` запроса. Все
        редактируемые параметры роли указываются в теле запроса.


        Владельцу чата роль изменить нельзя. Он всегда имеет права Админа в
        чате.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
        - name: user_id
          in: path
          required: true
          description: Идентификатор пользователя
          schema:
            type: integer
            format: int32
            example: 186
          example: 186
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Members
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateMemberRoleRequest"
      x-requirements:
        scope: chat_members:write
  /chats/{id}/unarchive:
    put:
      operationId: ChatOperations_unarchiveChat
      description: >-
        Разархивация чата


        Метод для возвращения чата из архива.


        Для разархивации чата вам необходимо знать её `id` и указать его в `URL`
        запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор чата
          schema:
            type: integer
            format: int32
            example: 334
          example: 334
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Chats
      x-requirements:
        scope: chats:archive
  /custom_properties:
    get:
      operationId: CommonOperations_listProperties
      description: >-
        Список дополнительных полей


        На данный момент работа с дополнительными полями типа "Файл" недоступна.


        Метод для получения актуального списка дополнительных полей участников и
        напоминаний в вашей компании.


        По умолчанию в вашей компании все сущности имеют только базовые поля. Но
        администратор вашей компании может добавлять дополнительные поля,
        редактировать их и удалять. Если при создании сотрудников (или
        напоминаний) вы используете дополнительные поля, которые не являются
        актуальными (удалены или не существуют) - вы получите ошибку.
      parameters:
        - name: entity_type
          in: query
          required: true
          description: Тип сущности
          schema:
            $ref: "#/components/schemas/SearchEntityType"
            example: User
          example: User
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/CustomPropertyDefinition"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Common
      x-requirements:
        scope: custom_properties:read
  /direct_url:
    post:
      operationId: DirectUploadOperations_uploadFile
      description: >-
        Загрузка файла


        Для того чтобы прикрепить файл к сообщению или к другой сущности через
        API, требуется сначала загрузить файл на сервер (через метод получения
        подписи и ключа), а затем сформировать ссылку на него.


        **Процесс загрузки состоит из трёх шагов:**


        1. [Получение подписи, ключа и других параметров](POST /uploads) —
        сделать `POST`-запрос без тела запроса для получения параметров
        загрузки.

        2. **Загрузка файла** — после получения всех параметров, нужно сделать
        `POST` запрос c форматом `multipart/form-data` на адрес `direct_url`,
        включая те же поля, что пришли (content-disposition, acl, policy,
        x-amz-credential, x-amz-algorithm, x-amz-date, x-amz-signature, key) и
        сам файл. При успешной загрузке — `HTTP` статус `201`.

        3. **Прикрепление файла к сообщению или другой сущности** — после
        загрузки файла, чтобы прикрепить его к сообщению или другой сущности
        API, необходимо сформировать путь файла. Для этого в поле `key`,
        полученном на этапе подписи, заменить шаблон `${filename}` на
        фактическое имя файла. Пример: Если ваш файл называется `Логотип для
        сайта.png`, а в ответе на метод `/uploads` ключ был
        `attaches/files/93746/e354-...-5e6f/${filename}`, итоговый ключ будет
        `attaches/files/93746/e354-...-5e6f/Логотип для сайта.png`.
      parameters: []
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
      tags:
        - Common
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/FileUploadRequest"
      x-requirements:
        auth: false
  /group_tags:
    post:
      operationId: GroupTagOperations_createTag
      description: |-
        Новый тег

        Метод для создания нового тега.
      parameters: []
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/GroupTag"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Group tags
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GroupTagRequest"
      x-requirements:
        scope: group_tags:write
    get:
      operationId: GroupTagOperations_listTags
      description: >-
        Список тегов сотрудников


        Метод для получения актуального списка тегов сотрудников. Названия тегов
        являются уникальными в компании.
      parameters:
        - name: names
          in: query
          required: false
          description: Массив названий тегов, по которым вы хотите отфильтровать список
          schema:
            $ref: "#/components/schemas/TagNamesFilter"
            example:
              - Design
              - Product
          example:
            - Design
            - Product
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых сущностей за один запрос
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
            example: 1
            default: 50
          example: 1
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из `meta.paginate.next_page`)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/GroupTag"
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Group tags
      x-requirements:
        scope: group_tags:read
  /group_tags/{id}:
    get:
      operationId: GroupTagOperations_getTag
      description: >-
        Информация о теге


        Метод для получения информации о теге. Названия тегов являются
        уникальными в компании.


        Для получения тега вам необходимо знать его `id` и указать его в `URL`
        запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор тега
          schema:
            type: integer
            format: int32
            example: 9111
          example: 9111
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/GroupTag"
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Group tags
      x-requirements:
        scope: group_tags:read
    put:
      operationId: GroupTagOperations_updateTag
      description: >-
        Редактирование тега


        Метод для редактирования тега.


        Для редактирования тега вам необходимо знать его `id` и указать его в
        `URL` запроса. Все редактируемые параметры тега указываются в теле
        запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор тега
          schema:
            type: integer
            format: int32
            example: 9111
          example: 9111
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/GroupTag"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Group tags
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GroupTagRequest"
      x-requirements:
        scope: group_tags:write
    delete:
      operationId: GroupTagOperations_deleteTag
      description: >-
        Удаление тега


        Метод для удаления тега.


        Для удаления тега вам необходимо знать его `id` и указать его в `URL`
        запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор тега
          schema:
            type: integer
            format: int32
            example: 9111
          example: 9111
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Group tags
      x-requirements:
        scope: group_tags:write
  /group_tags/{id}/users:
    get:
      operationId: GroupTagOperations_getTagUsers
      description: |-
        Список сотрудников тега

        Метод для получения актуального списка сотрудников тега.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор тега
          schema:
            type: integer
            format: int32
            example: 9111
          example: 9111
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых сущностей за один запрос
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
            example: 1
            default: 50
          example: 1
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из `meta.paginate.next_page`)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Group tags
      x-requirements:
        scope: group_tags:read
  /messages:
    post:
      operationId: MessageOperations_createMessage
      description: >-
        Новое сообщение


        Метод для отправки сообщения в беседу или канал, личного сообщения
        пользователю или комментария в тред.


        При использовании `entity_type: "discussion"` (или просто без указания
        `entity_type`) допускается отправка любого `chat_id` в поле `entity_id`.
        То есть, сообщение можно отправить зная только идентификатор чата. При
        этом, вы имеете возможность отправить сообщение в тред по его
        идентификатору или личное сообщение по идентификатору пользователя.


        Для отправки личного сообщения пользователю создавать чат не требуется.
        Достаточно указать `entity_type: "user"` и идентификатор пользователя.
        Чат будет создан автоматически, если между вами ещё не было переписки.
        Между двумя пользователями может быть только один личный чат.
      parameters: []
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Message"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Messages
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MessageCreateRequest"
      x-requirements:
        scope: messages:create
    get:
      operationId: ChatMessageOperations_listChatMessages
      description: >-
        Список сообщений чата


        Метод для получения списка сообщений бесед, каналов, тредов и личных
        сообщений.


        Для получения сообщений вам необходимо знать `chat_id` требуемой беседы,
        канала, треда или диалога, и указать его в `URL` запроса. Сообщения
        будут возвращены в порядке убывания даты отправки (то есть, сначала
        будут идти последние сообщения чата). Для получения более ранних
        сообщений чата доступны параметры `limit` и `cursor`.
      parameters:
        - name: chat_id
          in: query
          required: true
          description: Идентификатор чата (беседа, канал, диалог или чат треда)
          schema:
            type: integer
            format: int32
            example: 198
          example: 198
          explode: false
        - name: sort[{field}]
          in: query
          required: false
          description: Составной параметр сортировки сущностей выборки
          schema:
            allOf:
              - $ref: "#/components/schemas/SortOrder"
            default: desc
          example: desc
          x-param-names:
            - name: sort[id]
              description: Идентификатор сообщения
          explode: false
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых сущностей за один запрос
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
            example: 1
            default: 50
          example: 1
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из `meta.paginate.next_page`)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/Message"
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Messages
      x-requirements:
        scope: messages:read
  /messages/{id}:
    get:
      operationId: MessageOperations_getMessage
      description: >-
        Информация о сообщении


        Метод для получения информации о сообщении.


        Для получения сообщения вам необходимо знать его `id` и указать его в
        `URL` запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 194275
          example: 194275
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Message"
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Messages
      x-requirements:
        scope: messages:read
    put:
      operationId: MessageOperations_updateMessage
      description: >-
        Редактирование сообщения


        Метод для редактирования сообщения или комментария.


        Для редактирования сообщения вам необходимо знать его `id` и указать его
        в `URL` запроса. Все редактируемые параметры сообщения указываются в
        теле запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 194275
          example: 194275
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Message"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Messages
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MessageUpdateRequest"
      x-requirements:
        scope: messages:update
    delete:
      operationId: MessageOperations_deleteMessage
      description: >-
        Удаление сообщения


        Метод для удаления сообщения.


        Удаление сообщения доступно отправителю, админам и редакторам в чате. В
        личных сообщениях оба пользователя являются редакторами. Ограничений по
        давности отправки сообщения нет.


        Для удаления сообщения вам необходимо знать его `id` и указать его в
        `URL` запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 194275
          example: 194275
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Messages
      x-requirements:
        scope: messages:delete
  /messages/{id}/link_previews:
    post:
      operationId: LinkPreviewOperations_createLinkPreviews
      description: >-
        Unfurl (разворачивание ссылок)


        Метод для создания предпросмотров ссылок в сообщениях.


        Для создания предпросмотров ссылок вам необходимо знать `id` сообщения и
        указать его в `URL` запроса.


        Изображения вы можете предоставить как публичной ссылкой (параметром
        `image_url`), так и с помощью прямой загрузки файла на наш сервер
        (параметром `image`) через метод `Загрузка файлов`. Если вы указали оба
        параметра сразу, то `image` является более приоритетным.


        Если среди присланных `URL`-ключей будет выявлена ошибка (такого `URL`
        нет в сообщении или боту не прописан в настройках домен указанного
        `URL`), то запрос не будет выполнен (не будет создано ни одного
        предпросмотра).


        На данный момент поддерживается отображение только первого созданного
        предпросмотра ссылки к сообщению. Все присланные вами `link_previews`
        будут сохранены и появятся в сообщениях в ближайших обновлениях.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 194275
          example: 194275
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Link Previews
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LinkPreviewsRequest"
      x-requirements:
        scope: link_previews:write
  /messages/{id}/pin:
    post:
      operationId: MessageOperations_pinMessage
      description: >-
        Закрепление сообщения


        Метод для закрепления сообщения в чате.


        Для закрепления сообщения вам необходимо знать `id` сообщения и указать
        его в `URL` запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 194275
          example: 194275
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "409":
          description: The request conflicts with the current state of the server.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Messages
      x-requirements:
        scope: pins:write
    delete:
      operationId: MessageOperations_unpinMessage
      description: >-
        Открепление сообщения


        Метод для открепления сообщения из чата.


        Для открепления сообщения вам необходимо знать `id` сообщения и указать
        его в `URL` запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 194275
          example: 194275
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Messages
      x-requirements:
        scope: pins:write
  /messages/{id}/reactions:
    post:
      operationId: ReactionOperations_addReaction
      description: >-
        Добавление реакции


        Метод для добавления реакции на сообщение.


        Для добавления реакции вам необходимо знать `id` сообщения и указать его
        в `URL` запроса. Реакции на сообщения отправляются в виде символов
        `Emoji`. Если пользователь уже ставил реакцию - повторно она установлена
        не будет. Для удаления реакции надо воспользоваться методом [Удаление
        реакции](DELETE /messages/{id}/reactions).


        **Лимиты реакций:**


        - Каждый пользователь может установить не более **20 уникальных**
        реакций

        - Сообщение может иметь не более **30 уникальных** реакций

        - Общее количество реакций на сообщение не может превышать **1000**
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 7231942
          example: 7231942
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Reaction"
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Reactions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReactionRequest"
      x-requirements:
        scope: reactions:write
    delete:
      operationId: ReactionOperations_removeReaction
      description: >-
        Удаление реакции


        Метод для удаления реакции на сообщение.


        Для удаления реакции вам необходимо знать `id` сообщения и указать его в
        `URL` запроса. Реакции на сообщения хранятся в виде символов `Emoji`.


        Удалять можно только те реакции, которые были поставлены авторизованным
        пользователем.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 7231942
          example: 7231942
        - name: code
          in: query
          required: true
          description: Emoji символ реакции
          schema:
            type: string
            example: 👍
          example: 👍
          explode: false
        - name: name
          in: query
          required: false
          description: Текстовое имя эмодзи (используется для кастомных эмодзи)
          schema:
            type: string
            example: ":+1:"
          example: ":+1:"
          explode: false
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Reactions
      x-requirements:
        scope: reactions:write
    get:
      operationId: ReactionOperations_listReactions
      description: |-
        Список реакций

        Метод для получения актуального списка реакций на сообщение.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 194275
          example: 194275
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых сущностей за один запрос
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
            example: 1
            default: 50
          example: 1
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из `meta.paginate.next_page`)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/Reaction"
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Reactions
      x-requirements:
        scope: reactions:read
  /messages/{id}/read_member_ids:
    get:
      operationId: ReadMemberOperations_listReadMembers
      description: >-
        Список прочитавших сообщение


        Метод для получения актуального списка пользователей, прочитавших
        сообщение.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 194275
          example: 194275
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых сущностей за один запрос
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 300
            example: 300
            default: 300
          example: 300
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из `meta.paginate.next_page`)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      type: integer
                      format: int32
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Read member
      x-requirements:
        scope: messages:read
  /messages/{id}/thread:
    post:
      operationId: ThreadOperations_createThread
      description: >-
        Новый тред


        Метод для создания нового треда к сообщению.


        Если у сообщения уже был создан тред, то в ответе на запрос вернётся
        информация об уже созданном ранее треде.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор сообщения
          schema:
            type: integer
            format: int32
            example: 154332686
          example: 154332686
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Thread"
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Thread
      x-requirements:
        scope: threads:create
  /oauth/token/info:
    get:
      operationId: OAuthOperations_getTokenInfo
      description: >-
        Информация о токене


        Метод для получения информации о текущем OAuth токене, включая его
        скоупы, дату создания и последнего использования. Токен в ответе
        маскируется — видны только первые 8 и последние 4 символа.
      parameters: []
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/AccessTokenInfo"
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
      tags:
        - Profile
  /profile:
    get:
      operationId: ProfileOperations_getProfile
      description: |-
        Информация о профиле

        Метод для получения информации о своем профиле.
      parameters: []
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/User"
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
      tags:
        - Profile
      x-requirements:
        scope: profile:read
  /profile/status:
    get:
      operationId: ProfileOperations_getStatus
      description: |-
        Текущий статус

        Метод для получения информации о своем статусе.
      parameters: []
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    allOf:
                      - $ref: "#/components/schemas/UserStatus"
                    nullable: true
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
      tags:
        - Profile
      x-requirements:
        scope: profile_status:read
    put:
      operationId: ProfileOperations_updateStatus
      description: |-
        Новый статус

        Метод для установки себе нового статуса.
      parameters: []
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/UserStatus"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Profile
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/StatusUpdateRequest"
      x-requirements:
        scope: profile_status:write
    delete:
      operationId: ProfileOperations_deleteStatus
      description: |-
        Удаление статуса

        Метод для удаления своего статуса.
      parameters: []
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
      tags:
        - Profile
      x-requirements:
        scope: profile_status:write
  /search/chats:
    get:
      operationId: SearchOperations_searchChats
      description: |-
        Поиск чатов

        Метод для полнотекстового поиска каналов и бесед.
      parameters:
        - name: query
          in: query
          required: false
          description: Текст поискового запроса
          schema:
            type: string
            example: Разработка
          example: Разработка
          explode: false
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых результатов за один запрос
          schema:
            type: integer
            format: int32
            maximum: 100
            example: 10
            default: 100
          example: 10
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из meta.paginate.next_page)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
        - name: order
          in: query
          required: false
          description: Направление сортировки
          schema:
            $ref: "#/components/schemas/SortOrder"
            example: desc
          example: desc
          explode: false
        - name: created_from
          in: query
          required: false
          description: Фильтр по дате создания (от)
          schema:
            type: string
            format: date-time
            example: 2025-01-01T00:00:00.000Z
          example: 2025-01-01T00:00:00.000Z
          explode: false
        - name: created_to
          in: query
          required: false
          description: Фильтр по дате создания (до)
          schema:
            type: string
            format: date-time
            example: 2025-02-01T00:00:00.000Z
          example: 2025-02-01T00:00:00.000Z
          explode: false
        - name: active
          in: query
          required: false
          description: Фильтр по активности чата
          schema:
            type: boolean
            example: true
          example: true
          explode: false
        - name: chat_subtype
          in: query
          required: false
          description: Фильтр по типу чата
          schema:
            $ref: "#/components/schemas/ChatSubtype"
            example: discussion
          example: discussion
          explode: false
        - name: personal
          in: query
          required: false
          description: Фильтр по личным чатам
          schema:
            type: boolean
            example: false
          example: false
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                  - meta
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/Chat"
                  meta:
                    $ref: "#/components/schemas/SearchPaginationMeta"
                description: Обертка ответа поисковых результатов с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "402":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
      tags:
        - Search
      x-requirements:
        scope: search:chats
  /search/messages:
    get:
      operationId: SearchOperations_searchMessages
      description: |-
        Поиск сообщений

        Метод для полнотекстового поиска сообщений.
      parameters:
        - name: query
          in: query
          required: false
          description: Текст поискового запроса
          schema:
            type: string
            example: футболки
          example: футболки
          explode: false
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых результатов за один запрос
          schema:
            type: integer
            format: int32
            maximum: 200
            example: 10
            default: 200
          example: 10
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из meta.paginate.next_page)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
        - name: order
          in: query
          required: false
          description: Направление сортировки
          schema:
            $ref: "#/components/schemas/SortOrder"
            example: desc
          example: desc
          explode: false
        - name: created_from
          in: query
          required: false
          description: Фильтр по дате создания (от)
          schema:
            type: string
            format: date-time
            example: 2025-01-01T00:00:00.000Z
          example: 2025-01-01T00:00:00.000Z
          explode: false
        - name: created_to
          in: query
          required: false
          description: Фильтр по дате создания (до)
          schema:
            type: string
            format: date-time
            example: 2025-02-01T00:00:00.000Z
          example: 2025-02-01T00:00:00.000Z
          explode: false
        - name: chat_ids
          in: query
          required: false
          description: Фильтр по ID чатов
          schema:
            type: array
            items:
              type: integer
              format: int32
            example:
              - 198
              - 334
          example:
            - 198
            - 334
          explode: false
        - name: user_ids
          in: query
          required: false
          description: Фильтр по ID авторов сообщений
          schema:
            type: array
            items:
              type: integer
              format: int32
            example:
              - 12
              - 185
          example:
            - 12
            - 185
          explode: false
        - name: active
          in: query
          required: false
          description: Фильтр по активности чата
          schema:
            type: boolean
            example: true
          example: true
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                  - meta
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/Message"
                  meta:
                    $ref: "#/components/schemas/SearchPaginationMeta"
                description: Обертка ответа поисковых результатов с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "402":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
      tags:
        - Search
      x-requirements:
        scope: search:messages
  /search/users:
    get:
      operationId: SearchOperations_searchUsers
      description: >-
        Поиск сотрудников


        Метод для полнотекстового поиска сотрудников по имени, email, должности
        и другим полям.
      parameters:
        - name: query
          in: query
          required: false
          description: Текст поискового запроса
          schema:
            type: string
            example: Олег
          example: Олег
          explode: false
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых результатов за один запрос
          schema:
            type: integer
            format: int32
            maximum: 200
            example: 10
            default: 200
          example: 10
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из meta.paginate.next_page)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
        - name: sort
          in: query
          required: false
          description: Сортировка результатов
          schema:
            $ref: "#/components/schemas/SearchSortOrder"
            example: by_score
          example: by_score
          explode: false
        - name: order
          in: query
          required: false
          description: Направление сортировки
          schema:
            $ref: "#/components/schemas/SortOrder"
            example: desc
          example: desc
          explode: false
        - name: created_from
          in: query
          required: false
          description: Фильтр по дате создания (от)
          schema:
            type: string
            format: date-time
            example: 2025-01-01T00:00:00.000Z
          example: 2025-01-01T00:00:00.000Z
          explode: false
        - name: created_to
          in: query
          required: false
          description: Фильтр по дате создания (до)
          schema:
            type: string
            format: date-time
            example: 2025-02-01T00:00:00.000Z
          example: 2025-02-01T00:00:00.000Z
          explode: false
        - name: company_roles
          in: query
          required: false
          description: Фильтр по ролям сотрудников
          schema:
            type: array
            items:
              $ref: "#/components/schemas/UserRole"
            example:
              - admin
              - user
          example:
            - admin
            - user
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                  - meta
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
                  meta:
                    $ref: "#/components/schemas/SearchPaginationMeta"
                description: Обертка ответа поисковых результатов с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "402":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
      tags:
        - Search
      x-requirements:
        scope: search:users
  /tasks:
    post:
      operationId: TaskOperations_createTask
      description: >-
        Новое напоминание


        Метод для создания нового напоминания.


        При создании напоминания обязательным условием является указания типа
        напоминания: звонок, встреча, простое напоминание, событие или письмо.
        При этом не требуется дополнительное описание - вы просто создадите
        напоминание с соответствующим текстом. Если вы укажите описание
        напоминания - то именно оно и станет текстом напоминания.


        У напоминания должны быть ответственные, если их не указывать -
        ответственным назначается вы.


        Ответственным для напоминания без привязки к каким-либо сущностям может
        стать любой сотрудник компании. Актуальный состав сотрудников компании
        вы можете получить в методе [список сотрудников](GET /users).


        Напоминание можно привязать к чату, указав `chat_id`. Для привязки к
        чату необходимо быть его участником.
      parameters: []
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Task"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Tasks
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TaskCreateRequest"
      x-requirements:
        scope: tasks:create
    get:
      operationId: TaskOperations_listTasks
      description: |-
        Список напоминаний

        Метод для получения списка напоминаний.
      parameters:
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых сущностей за один запрос
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
            example: 1
            default: 50
          example: 1
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из `meta.paginate.next_page`)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/Task"
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
      tags:
        - Tasks
      x-requirements:
        scope: tasks:read
  /tasks/{id}:
    get:
      operationId: TaskOperations_getTask
      description: >-
        Информация о напоминании


        Метод для получения информации о напоминании.


        Для получения напоминания вам необходимо знать его `id` и указать его в
        `URL` запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор напоминания
          schema:
            type: integer
            format: int32
            example: 22283
          example: 22283
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Task"
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Tasks
      x-requirements:
        scope: tasks:read
    put:
      operationId: TaskOperations_updateTask
      description: >-
        Редактирование напоминания


        Метод для редактирования напоминания.


        Для редактирования напоминания вам необходимо знать его `id` и указать
        его в `URL` запроса. Все редактируемые параметры напоминания указываются
        в теле запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор напоминания
          schema:
            type: integer
            format: int32
            example: 22283
          example: 22283
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Task"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Tasks
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TaskUpdateRequest"
      x-requirements:
        scope: tasks:update
    delete:
      operationId: TaskOperations_deleteTask
      description: >-
        Удаление напоминания


        Метод для удаления напоминания.


        Для удаления напоминания вам необходимо знать его `id` и указать его в
        `URL` запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор напоминания
          schema:
            type: integer
            format: int32
            example: 22283
          example: 22283
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Tasks
      x-requirements:
        scope: tasks:delete
  /threads/{id}:
    get:
      operationId: ThreadOperations_getThread
      description: >-
        Информация о треде


        Метод для получения информации о треде.


        Для получения треда вам необходимо знать его `id` и указать его в `URL`
        запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор треда
          schema:
            type: integer
            format: int32
            example: 265142
          example: 265142
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/Thread"
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Thread
      x-requirements:
        scope: threads:read
  /uploads:
    post:
      operationId: UploadOperations_getUploadParams
      description: >-
        Получение подписи, ключа и других параметров


        Метод для получения подписи, ключа и других параметров, необходимых для
        загрузки файла.


        Данный метод необходимо использовать для загрузки каждого файла.
      parameters: []
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UploadParams"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
      tags:
        - Common
      x-requirements:
        scope: uploads:write
  /users:
    post:
      operationId: UserOperations_createUser
      description: >-
        Создать сотрудника


        Метод для создания нового сотрудника в вашей компании.


        Вы можете заполнять дополнительные поля сотрудника, которые созданы в
        вашей компании. Получить актуальный список идентификаторов
        дополнительных полей сотрудника вы можете в методе [Список
        дополнительных полей](GET /custom_properties).
      parameters: []
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/User"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserCreateRequest"
      x-requirements:
        scope: users:create
    get:
      operationId: UserOperations_listUsers
      description: |-
        Список сотрудников

        Метод для получения актуального списка сотрудников вашей компании.
      parameters:
        - name: query
          in: query
          required: false
          description: "Поисковая фраза для фильтрации результатов. Поиск работает по
            полям: `first_name` (имя), `last_name` (фамилия), `email`
            (электронная почта), `phone_number` (телефон) и `nickname`
            (никнейм)."
          schema:
            type: string
            example: Олег
          example: Олег
          explode: false
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых сущностей за один запрос
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
            example: 1
            default: 50
          example: 1
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из `meta.paginate.next_page`)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/User"
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Users
      x-requirements:
        scope: users:read
  /users/{id}:
    get:
      operationId: UserOperations_getUser
      description: >-
        Информация о сотруднике


        Метод для получения информации о сотруднике.


        Для получения сотрудника вам необходимо знать его `id` и указать его в
        `URL` запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор пользователя
          schema:
            type: integer
            format: int32
            example: 12
          example: 12
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/User"
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Users
      x-requirements:
        scope: users:read
    put:
      operationId: UserOperations_updateUser
      description: >-
        Редактирование сотрудника


        Метод для редактирования сотрудника.


        Для редактирования сотрудника вам необходимо знать его `id` и указать
        его в `URL` запроса. Все редактируемые параметры сотрудника указываются
        в теле запроса. Получить актуальный список идентификаторов
        дополнительных полей сотрудника вы можете в методе [Список
        дополнительных полей](GET /custom_properties).
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор пользователя
          schema:
            type: integer
            format: int32
            example: 12
          example: 12
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/User"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserUpdateRequest"
      x-requirements:
        scope: users:update
    delete:
      operationId: UserOperations_deleteUser
      description: >-
        Удаление сотрудника


        Метод для удаления сотрудника.


        Для удаления сотрудника вам необходимо знать его `id` и указать его в
        `URL` запроса.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор пользователя
          schema:
            type: integer
            format: int32
            example: 12
          example: 12
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Users
      x-requirements:
        scope: users:delete
  /users/{user_id}/status:
    get:
      operationId: UserStatusOperations_getUserStatus
      description: |-
        Статус сотрудника

        Метод для получения информации о статусе сотрудника.
      parameters:
        - name: user_id
          in: path
          required: true
          description: Идентификатор пользователя
          schema:
            type: integer
            format: int32
            example: 12
          example: 12
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: object
                    allOf:
                      - $ref: "#/components/schemas/UserStatus"
                    nullable: true
                description: Обертка ответа с данными
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Users
      x-requirements:
        scope: user_status:read
    put:
      operationId: UserStatusOperations_updateUserStatus
      description: |-
        Новый статус сотрудника

        Метод для установки нового статуса сотруднику.
      parameters:
        - name: user_id
          in: path
          required: true
          description: Идентификатор пользователя
          schema:
            type: integer
            format: int32
            example: 12
          example: 12
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: "#/components/schemas/UserStatus"
                description: Обертка ответа с данными
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/StatusUpdateRequest"
      x-requirements:
        scope: user_status:write
    delete:
      operationId: UserStatusOperations_deleteUserStatus
      description: |-
        Удаление статуса сотрудника

        Метод для удаления статуса сотрудника.
      parameters:
        - name: user_id
          in: path
          required: true
          description: Идентификатор пользователя
          schema:
            type: integer
            format: int32
            example: 12
          example: 12
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Users
      x-requirements:
        scope: user_status:write
  /views/open:
    post:
      operationId: FormOperations_openView
      description: >-
        Открытие представления


        Метод для открытия модального окна с представлением для пользователя.


        Чтобы открыть модальное окно с представлением, ваше приложение должно
        иметь действительный, неистекший `trigger_id`.
      parameters: []
      responses:
        "201":
          description: The request has succeeded and a new resource has been created as a
            result.
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "410":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Views
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OpenViewRequest"
      x-requirements:
        scope: views:write
  /webhooks/events:
    get:
      operationId: BotOperations_getWebhookEvents
      description: >-
        История событий


        Метод для получения истории последних событий бота. Данный метод будет
        полезен, если вы не можете получать события в реальном времени на ваш
        `URL`, но вам требуется обрабатывать все события, на которые вы
        подписались.


        История событий сохраняется только при активном пункте «Сохранять
        историю событий» во вкладке «Исходящий webhook» настроек бота. При этом
        указывать «Webhook `URL`» не требуется.


        Для получения истории событий конкретного бота вам необходимо знать его
        `access_token` и использовать его при запросе. Каждое событие
        представляет `JSON` объект вебхука.
      parameters:
        - name: limit
          in: query
          required: false
          description: Количество возвращаемых сущностей за один запрос
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
            example: 1
            default: 50
          example: 1
          explode: false
        - name: cursor
          in: query
          required: false
          description: Курсор для пагинации (из meta.paginate.next_page)
          schema:
            type: string
            example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          example: eyJpZCI6MTAsImRpciI6ImFzYyJ9
          explode: false
      responses:
        "200":
          description: The request has succeeded.
          content:
            application/json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/WebhookEvent"
                  meta:
                    $ref: "#/components/schemas/PaginationMeta"
                description: Обертка ответа с данными и пагинацией
        "400":
          description: The server could not understand the request due to invalid syntax.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "422":
          description: Client error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Bots
      x-requirements:
        scope: webhooks:events:read
  /webhooks/events/{id}:
    delete:
      operationId: BotOperations_deleteWebhookEvent
      description: >-
        Удаление события


        Данный метод доступен для работы только с `access_token` бота


        Метод для удаления события из истории событий бота.


        Для удаления события вам необходимо знать `access_token` бота, которому
        принадлежит событие, и `id` события.
      parameters:
        - name: id
          in: path
          required: true
          description: Идентификатор события
          schema:
            type: string
            example: 01KAJZ2XDSS2S3DSW9EXJZ0TBV
          example: 01KAJZ2XDSS2S3DSW9EXJZ0TBV
      responses:
        "204":
          description: "There is no content to send for this request, but the headers may
            be useful. "
        "401":
          description: Access is unauthorized.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "403":
          description: Access is forbidden.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OAuthError"
        "404":
          description: The server cannot find the requested resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiError"
      tags:
        - Bots
      x-requirements:
        scope: webhooks:events:delete
security:
  - BearerAuth: []
components:
  schemas:
    AccessTokenInfo:
      type: object
      required:
        - id
        - token
        - name
        - user_id
        - scopes
        - created_at
        - revoked_at
        - expires_in
        - last_used_at
      properties:
        id:
          type: integer
          format: int64
          description: Идентификатор токена
          example: 4827
        token:
          type: string
          description: Маскированный токен (видны первые 8 и последние 4 символа)
          example: cH5kR9mN...x7Qp
        name:
          type: string
          nullable: true
          description: Пользовательское имя токена
          example: Мой API токен
        user_id:
          type: integer
          format: int64
          description: Идентификатор владельца токена
          example: 12
        scopes:
          type: array
          items:
            $ref: "#/components/schemas/OAuthScope"
          description: Список скоупов токена
          example:
            - messages:read
            - chats:read
        created_at:
          type: string
          format: date-time
          description: Дата создания токена
          example: 2025-01-15T10:30:00.000Z
        revoked_at:
          type: string
          format: date-time
          nullable: true
          description: Дата отзыва токена
          example: null
        expires_in:
          type: integer
          format: int32
          nullable: true
          description: Время жизни токена в секундах
          example: null
        last_used_at:
          type: string
          format: date-time
          nullable: true
          description: Дата последнего использования токена
          example: 2025-02-24T14:20:00.000Z
      description: Информация о текущем OAuth токене
    AddMembersRequest:
      type: object
      required:
        - member_ids
      properties:
        member_ids:
          type: array
          items:
            type: integer
            format: int32
          description: Массив идентификаторов пользователей, которые станут участниками
          example:
            - 186
            - 187
        silent:
          type: boolean
          description: Не создавать в чате системное сообщение о добавлении участника
          example: true
      description: Запрос на добавление участников в чат
    AddTagsRequest:
      type: object
      required:
        - group_tag_ids
      properties:
        group_tag_ids:
          type: array
          items:
            type: integer
            format: int32
          description: Массив идентификаторов тегов, которые станут участниками
          example:
            - 86
            - 18
      description: Запрос на добавление тегов в чат
    ApiError:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          items:
            $ref: "#/components/schemas/ApiErrorItem"
          description: Массив ошибок
      description: Ошибка API (используется для 400, 403, 404, 409, 410, 422)
    ApiErrorItem:
      type: object
      required:
        - key
        - value
        - message
        - code
        - payload
      properties:
        key:
          type: string
          description: Ключ поля с ошибкой
          example: field.name
        value:
          type: string
          nullable: true
          description: Значение поля, которое вызвало ошибку
          example: invalid_value
        message:
          type: string
          description: Сообщение об ошибке
          example: Поле не может быть пустым
        code:
          allOf:
            - $ref: "#/components/schemas/ValidationErrorCode"
          description: Код ошибки
          example: blank
        payload:
          type: string
          nullable: true
          description: Дополнительные данные об ошибке
          example: null
      description: Детальная информация об ошибке
    AuditDetailsChatId:
      type: object
      required:
        - chat_id
      properties:
        chat_id:
          type: integer
          format: int32
          description: Идентификатор чата
      description: "При: tag_removed_from_chat"
    AuditDetailsChatPermission:
      type: object
      required:
        - public_access
      properties:
        public_access:
          type: boolean
          description: Публичный доступ
      description: "При: chat_permission_changed"
    AuditDetailsChatRenamed:
      type: object
      required:
        - old_name
        - new_name
      properties:
        old_name:
          type: string
          description: Прежнее название чата
        new_name:
          type: string
          description: Новое название чата
      description: "При: chat_renamed"
    AuditDetailsDlp:
      type: object
      required:
        - dlp_rule_id
        - dlp_rule_name
        - message_id
        - chat_id
        - user_id
        - action_message
        - conditions_matched
      properties:
        dlp_rule_id:
          type: integer
          format: int32
          description: Идентификатор правила DLP
        dlp_rule_name:
          type: string
          description: Название правила DLP
        message_id:
          type: integer
          format: int32
          description: Идентификатор сообщения
        chat_id:
          type: integer
          format: int32
          description: Идентификатор чата
        user_id:
          type: integer
          format: int32
          description: Идентификатор пользователя
        action_message:
          type: string
          description: Описание действия
        conditions_matched:
          type: boolean
          description: Результат проверки условий правила (true — условия сработали)
      description: "При: dlp_violation_detected"
    AuditDetailsEmpty:
      type: object
      description: "Пустые детали. При: user_login, user_logout, user_2fa_fail,
        user_2fa_success, user_created, user_deleted, chat_created,
        message_created, message_updated, message_deleted, reaction_created,
        reaction_deleted, thread_created, audit_events_accessed"
    AuditDetailsInitiator:
      type: object
      required:
        - initiator_id
      properties:
        initiator_id:
          type: integer
          format: int32
          description: Идентификатор инициатора действия
      description: "При: user_added_to_tag, user_removed_from_tag, user_chat_leave"
    AuditDetailsInviter:
      type: object
      required:
        - inviter_id
      properties:
        inviter_id:
          type: integer
          format: int32
          description: Идентификатор пригласившего
      description: "При: user_chat_join"
    AuditDetailsKms:
      type: object
      required:
        - chat_id
        - message_id
        - reason
      properties:
        chat_id:
          type: integer
          format: int32
          description: Идентификатор чата
        message_id:
          type: integer
          format: int32
          description: Идентификатор сообщения
        reason:
          type: string
          description: Причина операции
      description: "При: kms_encrypt, kms_decrypt"
    AuditDetailsRoleChanged:
      type: object
      required:
        - new_company_role
        - previous_company_role
        - initiator_id
      properties:
        new_company_role:
          type: string
          description: Новая роль
        previous_company_role:
          type: string
          description: Предыдущая роль
        initiator_id:
          type: integer
          format: int32
          description: Идентификатор инициатора
      description: "При: user_role_changed"
    AuditDetailsSearch:
      type: object
      required:
        - search_type
        - query_present
        - cursor_present
        - limit
        - filters
      properties:
        search_type:
          type: string
          description: Тип поиска
        query_present:
          type: boolean
          description: Указан ли поисковый запрос
        cursor_present:
          type: boolean
          description: Использован ли курсор
        limit:
          type: integer
          format: int32
          description: Количество возвращённых результатов
        filters:
          type: object
          additionalProperties: {}
          description: "Применённые фильтры. Возможные ключи зависят от типа поиска:
            order, sort, created_from, created_to, company_roles (users),
            active, chat_subtype, personal (chats), chat_ids, user_ids
            (messages)"
      description: "При: search_users_api, search_chats_api, search_messages_api"
    AuditDetailsTagChat:
      type: object
      required:
        - chat_id
        - tag_name
      properties:
        chat_id:
          type: integer
          format: int32
          description: Идентификатор чата
        tag_name:
          type: string
          description: Название тега
      description: "При: tag_added_to_chat"
    AuditDetailsTagName:
      type: object
      required:
        - name
      properties:
        name:
          type: string
          description: Название тега
      description: "При: tag_created, tag_deleted"
    AuditDetailsTokenScopes:
      type: object
      required:
        - scopes
      properties:
        scopes:
          type: array
          items:
            type: string
          description: Скоупы токена
      description: "При: access_token_created, access_token_updated, access_token_destroy"
    AuditDetailsUserUpdated:
      type: object
      required:
        - changed_attrs
      properties:
        changed_attrs:
          type: array
          items:
            type: string
          description: Список изменённых полей
      description: "При: user_updated"
    AuditEvent:
      type: object
      required:
        - id
        - created_at
        - event_key
        - entity_id
        - entity_type
        - actor_id
        - actor_type
        - details
        - ip_address
        - user_agent
      properties:
        id:
          type: string
          description: Уникальный идентификатор события
          example: a1b2c3d4-5e6f-7g8h-9i10-j11k12l13m14
        created_at:
          type: string
          format: date-time
          description: Дата и время создания события (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2025-05-15T14:30:00.000Z
        event_key:
          allOf:
            - $ref: "#/components/schemas/AuditEventKey"
          description: Ключ типа события
          example: user_login
        entity_id:
          type: string
          description: Идентификатор затронутой сущности
          example: "98765"
        entity_type:
          type: string
          description: Тип затронутой сущности
          example: User
        actor_id:
          type: string
          description: Идентификатор пользователя, выполнившего действие
          example: "98765"
        actor_type:
          type: string
          description: Тип актора
          example: User
        details:
          allOf:
            - $ref: "#/components/schemas/AuditEventDetailsUnion"
          description: Дополнительные детали события. Структура зависит от значения
            event_key — см. описания значений поля event_key. Для событий без
            деталей возвращается пустой объект
        ip_address:
          type: string
          description: IP-адрес, с которого было выполнено действие
          example: 192.168.1.100
        user_agent:
          type: string
          description: User agent клиента
          example: Pachca/3.60.0 (co.staply.pachca; build:15; iOS 18.5.0) Alamofire/5.0.0
      description: Событие аудита
    AuditEventDetailsUnion:
      anyOf:
        - $ref: "#/components/schemas/AuditDetailsEmpty"
        - $ref: "#/components/schemas/AuditDetailsUserUpdated"
        - $ref: "#/components/schemas/AuditDetailsRoleChanged"
        - $ref: "#/components/schemas/AuditDetailsTagName"
        - $ref: "#/components/schemas/AuditDetailsInitiator"
        - $ref: "#/components/schemas/AuditDetailsInviter"
        - $ref: "#/components/schemas/AuditDetailsChatRenamed"
        - $ref: "#/components/schemas/AuditDetailsChatPermission"
        - $ref: "#/components/schemas/AuditDetailsTagChat"
        - $ref: "#/components/schemas/AuditDetailsChatId"
        - $ref: "#/components/schemas/AuditDetailsTokenScopes"
        - $ref: "#/components/schemas/AuditDetailsKms"
        - $ref: "#/components/schemas/AuditDetailsDlp"
        - $ref: "#/components/schemas/AuditDetailsSearch"
      description: Дополнительные детали события аудита. Структура зависит от значения
        event_key
    AuditEventKey:
      type: string
      enum:
        - user_login
        - user_logout
        - user_2fa_fail
        - user_2fa_success
        - user_created
        - user_deleted
        - user_role_changed
        - user_updated
        - tag_created
        - tag_deleted
        - user_added_to_tag
        - user_removed_from_tag
        - chat_created
        - chat_renamed
        - chat_permission_changed
        - user_chat_join
        - user_chat_leave
        - tag_added_to_chat
        - tag_removed_from_chat
        - message_updated
        - message_deleted
        - message_created
        - reaction_created
        - reaction_deleted
        - thread_created
        - access_token_created
        - access_token_updated
        - access_token_destroy
        - kms_encrypt
        - kms_decrypt
        - audit_events_accessed
        - dlp_violation_detected
        - search_users_api
        - search_chats_api
        - search_messages_api
      description: Тип аудит-события
    BotResponse:
      type: object
      required:
        - id
        - webhook
      properties:
        id:
          type: integer
          format: int32
          description: Идентификатор бота
          example: 1738816
        webhook:
          type: object
          properties:
            outgoing_url:
              type: string
              description: URL исходящего вебхука
              example: https://www.website.com/tasks/new
          required:
            - outgoing_url
          description: Объект параметров вебхука
      description: Ответ с данными бота
    BotUpdateRequest:
      type: object
      required:
        - bot
      properties:
        bot:
          type: object
          properties:
            webhook:
              type: object
              properties:
                outgoing_url:
                  type: string
                  description: URL исходящего вебхука
                  example: https://www.website.com/tasks/new
              required:
                - outgoing_url
              description: Объект параметров вебхука
          required:
            - webhook
          description: Собранный объект параметров редактируемого бота
      description: Запрос на обновление бота
    Button:
      type: object
      required:
        - text
      properties:
        text:
          type: string
          maxLength: 255
          description: Текст, отображаемый на кнопке
          example: Подробнее
        url:
          type: string
          description: Ссылка, которая будет открыта по нажатию кнопки
          example: https://example.com/details
        data:
          type: string
          maxLength: 255
          description: Данные, которые будут отправлены в исходном вебхуке по нажатию кнопки
          example: awesome
      description: Кнопка
    ButtonWebhookPayload:
      type: object
      required:
        - type
        - event
        - message_id
        - trigger_id
        - data
        - user_id
        - chat_id
        - webhook_timestamp
      properties:
        type:
          type: string
          enum:
            - button
          description: Тип объекта
          example: button
        event:
          type: string
          enum:
            - click
          description: Тип события
          example: click
        message_id:
          type: integer
          format: int32
          description: Идентификатор сообщения, к которому относится кнопка
          example: 1245817
        trigger_id:
          type: string
          description: Уникальный идентификатор события. Время жизни — 3 секунды. Может
            быть использован, например, для открытия представления пользователю
          example: a1b2c3d4-5e6f-7g8h-9i10-j11k12l13m14
        data:
          type: string
          description: Данные нажатой кнопки
          example: button_data
        user_id:
          type: integer
          format: int32
          description: Идентификатор пользователя, который нажал кнопку
          example: 2345
        chat_id:
          type: integer
          format: int32
          description: Идентификатор чата, в котором была нажата кнопка
          example: 9012
        webhook_timestamp:
          type: integer
          format: int32
          description: Дата и время отправки вебхука (UTC+0) в формате UNIX
          example: 1747574400
      description: Структура исходящего вебхука о нажатии кнопки
    Chat:
      type: object
      required:
        - id
        - name
        - created_at
        - owner_id
        - member_ids
        - group_tag_ids
        - channel
        - personal
        - public
        - last_message_at
        - meet_room_url
      properties:
        id:
          type: integer
          format: int32
          description: Идентификатор созданного чата
          example: 334
        name:
          type: string
          description: Название
          example: 🤿 aqua
        created_at:
          type: string
          format: date-time
          description: Дата и время создания чата (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2021-08-28T15:56:53.000Z
        owner_id:
          type: integer
          format: int32
          description: Идентификатор пользователя, создавшего чат
          example: 185
        member_ids:
          type: array
          items:
            type: integer
            format: int32
          description: Массив идентификаторов пользователей, участников
          example:
            - 185
            - 186
            - 187
        group_tag_ids:
          type: array
          items:
            type: integer
            format: int32
          description: Массив идентификаторов тегов, участников
          example:
            - 9111
        channel:
          type: boolean
          description: Является каналом
          example: true
        personal:
          type: boolean
          description: Является личным чатом
          example: false
        public:
          type: boolean
          description: Открытый доступ
          example: false
        last_message_at:
          type: string
          format: date-time
          description: Дата и время создания последнего сообщения в чате (ISO-8601, UTC+0)
            в формате YYYY-MM-DDThh:mm:ss.sssZ
          example: 2021-08-28T15:56:53.000Z
        meet_room_url:
          type: string
          description: Ссылка на Видеочат
          example: https://meet.pachca.com/aqua-94bb21b5
      description: Чат
    ChatAvailability:
      type: string
      enum:
        - is_member
        - public
      description: Доступность чатов для пользователя
    ChatCreateRequest:
      type: object
      required:
        - chat
      properties:
        chat:
          type: object
          properties:
            name:
              type: string
              description: Название
              example: 🤿 aqua
            member_ids:
              type: array
              items:
                type: integer
                format: int32
              description: Массив идентификаторов пользователей, которые станут участниками
              example:
                - 186
                - 187
            group_tag_ids:
              type: array
              items:
                type: integer
                format: int32
              description: Массив идентификаторов тегов, которые станут участниками
              example:
                - 86
                - 18
            channel:
              type: boolean
              description: Является каналом
              example: true
              default: false
            public:
              type: boolean
              description: Открытый доступ
              example: false
              default: false
          required:
            - name
          description: Собранный объект параметров создаваемого чата
      description: Запрос на создание чата
    ChatMemberRole:
      type: string
      enum:
        - admin
        - editor
        - member
      description: Роль участника чата
    ChatMemberRoleFilter:
      type: string
      enum:
        - all
        - owner
        - admin
        - editor
        - member
      description: Роль участника чата (с фильтром все)
    ChatMemberWebhookPayload:
      type: object
      required:
        - type
        - event
        - chat_id
        - user_ids
        - created_at
        - webhook_timestamp
      properties:
        type:
          type: string
          enum:
            - chat_member
          description: Тип объекта
          example: chat_member
        event:
          allOf:
            - $ref: "#/components/schemas/MemberEventType"
          description: Тип события
          example: add
        chat_id:
          type: integer
          format: int32
          description: Идентификатор чата, в котором изменился состав участников
          example: 9012
        thread_id:
          type: integer
          format: int32
          nullable: true
          description: Идентификатор треда
          example: 5678
        user_ids:
          type: array
          items:
            type: integer
            format: int32
          description: Массив идентификаторов пользователей, с которыми произошло событие
          example:
            - 2345
            - 6789
        created_at:
          type: string
          format: date-time
          description: Дата и время события (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2025-05-15T14:30:00.000Z
        webhook_timestamp:
          type: integer
          format: int32
          description: Дата и время отправки вебхука (UTC+0) в формате UNIX
          example: 1747574400
      description: Структура исходящего вебхука об участниках чата
    ChatSubtype:
      type: string
      enum:
        - discussion
        - thread
      description: Тип чата
    ChatUpdateRequest:
      type: object
      required:
        - chat
      properties:
        chat:
          type: object
          properties:
            name:
              type: string
              description: Название
              example: Бассейн
            public:
              type: boolean
              description: Открытый доступ
              example: true
          description: Собранный объект параметров обновляемого чата
      description: Запрос на обновление чата
    CompanyMemberWebhookPayload:
      type: object
      required:
        - type
        - event
        - user_ids
        - created_at
        - webhook_timestamp
      properties:
        type:
          type: string
          enum:
            - company_member
          description: Тип объекта
          example: company_member
        event:
          allOf:
            - $ref: "#/components/schemas/UserEventType"
          description: Тип события
          example: invite
        user_ids:
          type: array
          items:
            type: integer
            format: int32
          description: Массив идентификаторов пользователей, с которыми произошло событие
          example:
            - 2345
            - 6789
        created_at:
          type: string
          format: date-time
          description: Дата и время события (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2025-05-15T14:30:00.000Z
        webhook_timestamp:
          type: integer
          format: int32
          description: Дата и время отправки вебхука (UTC+0) в формате UNIX
          example: 1747574400
      description: Структура исходящего вебхука об участниках пространства
    CustomProperty:
      type: object
      required:
        - id
        - name
        - data_type
        - value
      properties:
        id:
          type: integer
          format: int32
          description: Идентификатор поля
          example: 1678
        name:
          type: string
          description: Название поля
          example: Город
        data_type:
          allOf:
            - $ref: "#/components/schemas/CustomPropertyDataType"
          description: Тип поля
          example: string
        value:
          type: string
          description: Значение
          example: Санкт-Петербург
      description: Дополнительное поле
    CustomPropertyDataType:
      type: string
      enum:
        - string
        - number
        - date
        - link
      description: Тип данных дополнительного поля
    CustomPropertyDefinition:
      type: object
      required:
        - id
        - name
        - data_type
      properties:
        id:
          type: integer
          format: int32
          description: Идентификатор поля
          example: 1678
        name:
          type: string
          description: Название поля
          example: Город
        data_type:
          allOf:
            - $ref: "#/components/schemas/CustomPropertyDataType"
          description: Тип поля
          example: string
      description: Определение дополнительного поля (без значения)
    ExportRequest:
      type: object
      required:
        - start_at
        - end_at
        - webhook_url
      properties:
        start_at:
          type: string
          format: date
          description: Дата начала для экспорта (ISO-8601, UTC+0) в формате YYYY-MM-DD
          example: 2025-03-20
        end_at:
          type: string
          format: date
          description: Дата окончания для экспорта (ISO-8601, UTC+0) в формате YYYY-MM-DD
          example: 2025-03-20
        webhook_url:
          type: string
          description: Адрес, на который будет отправлен вебхук по завершению экспорта
          example: https://webhook.site/9227d3b8-6e82-4e64-bf5d-ad972ad270f2
        chat_ids:
          type: array
          items:
            type: integer
            format: int32
          description: Массив идентификаторов чатов. Указывается, если нужно получить
            сообщения только некоторых чатов.
          example:
            - 1381521
        skip_chats_file:
          type: boolean
          description: Пропуск формирования файла со списком чатов (chats.json)
          example: false
      description: Запрос на экспорт сообщений
    File:
      type: object
      required:
        - id
        - key
        - name
        - file_type
        - url
      properties:
        id:
          type: integer
          format: int32
          description: Идентификатор файла
          example: 3560
        key:
          type: string
          description: Путь к файлу
          example: attaches/files/12/21zu7934-02e1-44d9-8df2-0f970c259796/congrat.png
        name:
          type: string
          description: Название файла с расширением
          example: congrat.png
        file_type:
          allOf:
            - $ref: "#/components/schemas/FileType"
          description: Тип файла
          example: image
        url:
          type: string
          description: Прямая ссылка на скачивание файла
          example: https://pachca-prod-uploads.s3.storage.selcloud.ru/attaches/files/12/21zu7934-02e1-44d9-8df2-0f970c259796/congrat.png?response-cache-control=max-age%3D3600%3B&response-content-disposition=attachment&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=142155_staply%2F20231107%2Fru-1a%2Fs3%2Faws4_request&X-Amz-Date=20231107T160412&X-Amz-Expires=604800&X-Amz-SignedHeaders=host&X-Amz-Signature=98765asgfadsfdSaDSd4sdfg35asdf67sadf8
        width:
          type: integer
          format: int32
          nullable: true
          description: Ширина изображения в пикселях
          example: 1920
        height:
          type: integer
          format: int32
          nullable: true
          description: Высота изображения в пикселях
          example: 1080
      description: Файл
    FileType:
      type: string
      enum:
        - file
        - image
      description: Тип файла
    FileUploadRequest:
      type: object
      properties:
        contentDisposition:
          type: string
          description: Параметр Content-Disposition, полученный в ответе на запрос
            [Получение подписи, ключа и других параметров](POST /uploads)
        acl:
          type: string
          description: Параметр acl, полученный в ответе на запрос [Получение подписи,
            ключа и других параметров](POST /uploads)
        policy:
          type: string
          description: Параметр policy, полученный в ответе на запрос [Получение подписи,
            ключа и других параметров](POST /uploads)
        xAmzCredential:
          type: string
          description: Параметр x-amz-credential, полученный в ответе на запрос [Получение
            подписи, ключа и других параметров](POST /uploads)
        xAmzAlgorithm:
          type: string
          description: Параметр x-amz-algorithm, полученный в ответе на запрос [Получение
            подписи, ключа и других параметров](POST /uploads)
        xAmzDate:
          type: string
          description: Параметр x-amz-date, полученный в ответе на запрос [Получение
            подписи, ключа и других параметров](POST /uploads)
        xAmzSignature:
          type: string
          description: Параметр x-amz-signature, полученный в ответе на запрос [Получение
            подписи, ключа и других параметров](POST /uploads)
        key:
          type: string
          description: Параметр key, полученный в ответе на запрос [Получение подписи,
            ключа и других параметров](POST /uploads)
        file:
          type: string
          format: binary
          description: Файл для загрузки
      required:
        - contentDisposition
        - acl
        - policy
        - xAmzCredential
        - xAmzAlgorithm
        - xAmzDate
        - xAmzSignature
        - key
        - file
    Forwarding:
      type: object
      required:
        - original_message_id
        - original_chat_id
        - author_id
        - original_created_at
        - original_thread_id
        - original_thread_message_id
        - original_thread_parent_chat_id
      properties:
        original_message_id:
          type: integer
          format: int32
          description: Идентификатор оригинального сообщения
          example: 194275
        original_chat_id:
          type: integer
          format: int32
          description: Идентификатор чата, в котором находится оригинальное сообщение
          example: 334
        author_id:
          type: integer
          format: int32
          description: Идентификатор пользователя, создавшего оригинальное сообщение
          example: 12
        original_created_at:
          type: string
          format: date-time
          description: Дата и время создания оригинального сообщения (ISO-8601, UTC+0) в
            формате YYYY-MM-DDThh:mm:ss.sssZ
          example: 2025-01-15T10:30:00.000Z
        original_thread_id:
          type: integer
          format: int32
          nullable: true
          description: Идентификатор треда, в котором находится оригинальное сообщение
          example: null
        original_thread_message_id:
          type: integer
          format: int32
          nullable: true
          description: Идентификатор сообщения, к которому был создан тред, в котором
            находится оригинальное сообщение
          example: null
        original_thread_parent_chat_id:
          type: integer
          format: int32
          nullable: true
          description: Идентификатор чата сообщения, к которому был создан тред, в котором
            находится оригинальное сообщение
          example: null
      description: Информация о пересланном сообщении
    GroupTag:
      type: object
      required:
        - id
        - name
        - users_count
      properties:
        id:
          type: integer
          format: int32
          description: Идентификатор тега
          example: 9111
        name:
          type: string
          description: Название тега
          example: Design
        users_count:
          type: integer
          format: int32
          description: Количество сотрудников, которые имеют этот тег
          example: 6
      description: Тег
    GroupTagRequest:
      type: object
      required:
        - group_tag
      properties:
        group_tag:
          type: object
          properties:
            name:
              type: string
              description: Название тега
              example: Новое название тега
          required:
            - name
      description: Запрос на создание или редактирование тега
    InviteStatus:
      type: string
      enum:
        - confirmed
        - sent
      description: Статус приглашения пользователя
    LinkPreview:
      type: object
      required:
        - title
        - description
      properties:
        title:
          type: string
          description: Заголовок
          example: "Статья: Отправка файлов"
        description:
          type: string
          description: Описание
          example: Пример отправки файлов на удаленный сервер
        image_url:
          type: string
          description: Публичная ссылка на изображение (если вы хотите загрузить файл
            изображения в Пачку, то используйте параметр image)
          example: https://website.com/img/landing.png
        image:
          type: object
          properties:
            key:
              type: string
              description: Путь к изображению, полученный в результате [загрузки файла](POST
                /direct_url)
              example: attaches/files/93746/e354fd79-9jh6-f2hd-fj83-709dae24c763/${filename}
            name:
              type: string
              description: Название изображения (рекомендуется писать вместе с расширением)
              example: files-to-server.jpg
            size:
              type: integer
              format: int32
              description: Размер изображения в байтах
              example: 695604
          required:
            - key
            - name
            - size
          description: Изображение
      description: Данные для предпросмотра ссылки
    LinkPreviewsRequest:
      type: object
      required:
        - link_previews
      properties:
        link_previews:
          type: object
          additionalProperties:
            $ref: "#/components/schemas/LinkPreview"
          description: "`JSON` карта предпросмотров ссылок, где каждый ключ — `URL`,
            который был получен в исходящем вебхуке о новом сообщении."
          x-record-key-example: https://website.com/articles/123
      description: Запрос на разворачивание ссылок
    LinkSharedWebhookPayload:
      type: object
      required:
        - type
        - event
        - chat_id
        - message_id
        - links
        - created_at
        - webhook_timestamp
      properties:
        type:
          type: string
          enum:
            - message
          description: Тип объекта
          example: message
        event:
          type: string
          enum:
            - link_shared
          description: Тип события
          example: link_shared
        chat_id:
          type: integer
          format: int32
          description: Идентификатор чата, в котором обнаружена ссылка
          example: 23438
        message_id:
          type: integer
          format: int32
          description: Идентификатор сообщения, содержащего ссылку
          example: 268092
        links:
          type: array
          items:
            $ref: "#/components/schemas/WebhookLink"
          description: Массив обнаруженных ссылок на отслеживаемые домены
        created_at:
          type: string
          format: date-time
          description: Дата и время создания сообщения (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2024-09-18T19:53:14.000Z
        webhook_timestamp:
          type: integer
          format: int32
          description: Дата и время отправки вебхука (UTC+0) в формате UNIX
          example: 1726685594
      description: Структура исходящего вебхука о разворачивании ссылок
    MemberEventType:
      type: string
      enum:
        - add
        - remove
      description: Тип события webhook для участников
    Message:
      type: object
      required:
        - id
        - entity_type
        - entity_id
        - chat_id
        - root_chat_id
        - content
        - user_id
        - created_at
        - url
        - files
        - buttons
        - thread
        - forwarding
        - parent_message_id
        - display_avatar_url
        - display_name
        - changed_at
        - deleted_at
      properties:
        id:
          type: integer
          format: int32
          description: Идентификатор сообщения
          example: 194275
        entity_type:
          allOf:
            - $ref: "#/components/schemas/MessageEntityType"
          description: Тип сущности, к которой относится сообщение
          example: discussion
        entity_id:
          type: integer
          format: int32
          description: Идентификатор сущности, к которой относится сообщение
            (беседы/канала, треда или пользователя)
          example: 334
        chat_id:
          type: integer
          format: int32
          description: Идентификатор чата, в котором находится сообщение
          example: 334
        root_chat_id:
          type: integer
          format: int32
          description: Идентификатор корневого чата. Для сообщений в тредах —
            идентификатор чата, в котором был создан тред. Для обычных сообщений
            совпадает с `chat_id`.
          example: 334
        content:
          type: string
          description: Текст сообщения
          example: Вчера мы продали 756 футболок (что на 10% больше, чем в прошлое
            воскресенье)
        user_id:
          type: integer
          format: int32
          description: Идентификатор пользователя, создавшего сообщение
          example: 12
        created_at:
          type: string
          format: date-time
          description: Дата и время создания сообщения (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2021-08-28T15:57:23.000Z
        url:
          type: string
          description: Прямая ссылка на сообщение
          example: https://app.pachca.com/chats/334?message=194275
        files:
          type: array
          items:
            $ref: "#/components/schemas/File"
          description: Прикрепленные файлы
        buttons:
          type: array
          items:
            type: array
            items:
              $ref: "#/components/schemas/Button"
          description: Массив строк, каждая из которых представлена массивом кнопок
        thread:
          type: object
          allOf:
            - $ref: "#/components/schemas/Thread"
          nullable: true
          description: Тред сообщения
        forwarding:
          type: object
          allOf:
            - $ref: "#/components/schemas/Forwarding"
          nullable: true
          description: Информация о пересланном сообщении
        parent_message_id:
          type: integer
          format: int32
          nullable: true
          description: Идентификатор сообщения, к которому написан ответ
          example: null
        display_avatar_url:
          type: string
          nullable: true
          description: Ссылка на аватарку отправителя сообщения
          example: null
        display_name:
          type: string
          nullable: true
          description: Полное имя отправителя сообщения
          example: null
        changed_at:
          type: string
          format: date-time
          nullable: true
          description: Дата и время последнего редактирования сообщения (ISO-8601, UTC+0)
            в формате YYYY-MM-DDThh:mm:ss.sssZ
          example: 2021-08-28T16:10:00.000Z
        deleted_at:
          type: string
          format: date-time
          nullable: true
          description: Дата и время удаления сообщения (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: null
      description: Сообщение
    MessageCreateRequest:
      type: object
      required:
        - message
      properties:
        message:
          type: object
          properties:
            entity_type:
              allOf:
                - $ref: "#/components/schemas/MessageEntityType"
              description: Тип сущности
              example: discussion
              default: discussion
            entity_id:
              type: integer
              format: int32
              description: Идентификатор сущности
              example: 334
            content:
              type: string
              description: Текст сообщения
              example: Вчера мы продали 756 футболок (что на 10% больше, чем в прошлое
                воскресенье)
            files:
              type: array
              items:
                type: object
                properties:
                  key:
                    type: string
                    description: Путь к файлу, полученный в результате [загрузки файла](POST
                      /direct_url)
                    example: attaches/files/93746/e354fd79-4f3e-4b5a-9c8d-1a2b3c4d5e6f/logo.png
                  name:
                    type: string
                    description: Название файла, которое вы хотите отображать пользователю
                      (рекомендуется писать вместе с расширением)
                    example: logo.png
                  file_type:
                    allOf:
                      - $ref: "#/components/schemas/FileType"
                    description: Тип файла
                    example: image
                  size:
                    type: integer
                    format: int32
                    description: Размер файла в байтах, отображаемый пользователю
                    example: 12345
                  width:
                    type: integer
                    format: int32
                    description: Ширина изображения в px (используется в случае, если file_type
                      указан как image)
                    example: 800
                  height:
                    type: integer
                    format: int32
                    description: Высота изображения в px (используется в случае, если file_type
                      указан как image)
                    example: 600
                required:
                  - key
                  - name
                  - file_type
                  - size
              description: Прикрепляемые файлы
            buttons:
              type: array
              items:
                type: array
                items:
                  $ref: "#/components/schemas/Button"
              description: Массив строк, каждая из которых представлена массивом кнопок.
                Максимум 100 кнопок у сообщения, до 8 кнопок в строке.
              example:
                - - text: Подробнее
                    url: https://example.com/details
                  - text: Отлично!
                    data: awesome
            parent_message_id:
              type: integer
              format: int32
              description: Идентификатор сообщения. Указывается в случае, если вы отправляете
                ответ на другое сообщение.
              example: 194270
            display_avatar_url:
              type: string
              maxLength: 255
              description: Ссылка на специальную аватарку отправителя для этого сообщения.
                Использование этого поля возможно только с access_token бота.
              example: https://example.com/avatar.png
            display_name:
              type: string
              maxLength: 255
              description: Полное специальное имя отправителя для этого сообщения.
                Использование этого поля возможно только с access_token бота.
              example: Бот Поддержки
            skip_invite_mentions:
              type: boolean
              description: Пропуск добавления упоминаемых пользователей в тред. Работает
                только при отправке сообщения в тред.
              example: false
              default: false
            link_preview:
              type: boolean
              description: Отображение предпросмотра первой найденной ссылки в тексте
                сообщения
              example: false
              default: false
          required:
            - entity_id
            - content
          description: Собранный объект параметров создаваемого сообщения
      description: Запрос на создание сообщения
    MessageEntityType:
      type: string
      enum:
        - discussion
        - thread
        - user
      description: Тип сущности для сообщений
    MessageUpdateRequest:
      type: object
      required:
        - message
      properties:
        message:
          type: object
          properties:
            content:
              type: string
              description: Текст сообщения
              example: "Вот попробуйте написать правильно это с первого раза: Будущий, Полощи,
                Прийти, Грейпфрут, Мозаика, Бюллетень, Дуршлаг, Винегрет."
            files:
              type: array
              items:
                type: object
                properties:
                  key:
                    type: string
                    description: Путь к файлу, полученный в результате [загрузки файла](POST
                      /direct_url)
                    example: attaches/files/93746/e354fd79-4f3e-4b5a-9c8d-1a2b3c4d5e6f/logo.png
                  name:
                    type: string
                    description: Название файла, которое вы хотите отображать пользователю
                      (рекомендуется писать вместе с расширением)
                    example: logo.png
                  file_type:
                    type: string
                    description: "Тип файла: файл (file), изображение (image)"
                    example: image
                  size:
                    type: integer
                    format: int32
                    description: Размер файла в байтах, отображаемый пользователю
                    example: 12345
                  width:
                    type: integer
                    format: int32
                    description: Ширина изображения в px (используется в случае, если file_type
                      указан как image)
                    example: 800
                  height:
                    type: integer
                    format: int32
                    description: Высота изображения в px (используется в случае, если file_type
                      указан как image)
                    example: 600
                required:
                  - key
                  - name
              description: Прикрепляемые файлы
            buttons:
              type: array
              items:
                type: array
                items:
                  $ref: "#/components/schemas/Button"
              description: Массив строк, каждая из которых представлена массивом кнопок.
                Максимум 100 кнопок у сообщения, до 8 кнопок в строке. Для
                удаления кнопок пришлите пустой массив.
              example:
                - - text: Подробнее
                    url: https://example.com/details
            display_avatar_url:
              type: string
              description: Ссылка на специальную аватарку отправителя для этого сообщения.
                Использование этого поля возможно только с access_token бота.
              example: https://example.com/avatar.png
            display_name:
              type: string
              description: Полное специальное имя отправителя для этого сообщения.
                Использование этого поля возможно только с access_token бота.
              example: Бот Поддержки
          description: Собранный объект параметров редактируемого сообщения
      description: Запрос на редактирование сообщения
    MessageWebhookPayload:
      type: object
      required:
        - type
        - id
        - event
        - entity_type
        - entity_id
        - content
        - user_id
        - created_at
        - url
        - chat_id
        - webhook_timestamp
      properties:
        type:
          type: string
          enum:
            - message
          description: Тип объекта
          example: message
        id:
          type: integer
          format: int32
          description: Идентификатор сообщения
          example: 1245817
        event:
          allOf:
            - $ref: "#/components/schemas/WebhookEventType"
          description: Тип события
          example: new
        entity_type:
          allOf:
            - $ref: "#/components/schemas/MessageEntityType"
          description: Тип сущности, к которой относится сообщение
          example: discussion
        entity_id:
          type: integer
          format: int32
          description: Идентификатор сущности, к которой относится сообщение
          example: 5678
        content:
          type: string
          description: Текст сообщения
          example: Текст сообщения
        user_id:
          type: integer
          format: int32
          description: Идентификатор отправителя сообщения
          example: 2345
        created_at:
          type: string
          format: date-time
          description: Дата и время создания сообщения (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2025-05-15T14:30:00.000Z
        url:
          type: string
          description: Прямая ссылка на сообщение
          example: https://pachca.com/chats/1245817/messages/5678
        chat_id:
          type: integer
          format: int32
          description: Идентификатор чата, в котором находится сообщение
          example: 9012
        parent_message_id:
          type: integer
          format: int32
          nullable: true
          description: Идентификатор сообщения, к которому написан ответ
          example: 3456
        thread:
          type: object
          allOf:
            - $ref: "#/components/schemas/WebhookMessageThread"
          nullable: true
          description: Объект с параметрами треда
        webhook_timestamp:
          type: integer
          format: int32
          description: Дата и время отправки вебхука (UTC+0) в формате UNIX
          example: 1747574400
      description: Структура исходящего вебхука о сообщении
    OAuthError:
      type: object
      required:
        - error
        - error_description
      properties:
        error:
          type: string
          description: Код ошибки
          example: invalid_token
        error_description:
          type: string
          description: Описание ошибки
          example: Access token is missing
      description: Ошибка OAuth авторизации (используется для 401 и 403)
    OAuthScope:
      type: string
      enum:
        - chats:read
        - chats:create
        - chats:update
        - chats:archive
        - chats:leave
        - chat_members:read
        - chat_members:write
        - chat_exports:read
        - chat_exports:write
        - messages:read
        - messages:create
        - messages:update
        - messages:delete
        - reactions:read
        - reactions:write
        - pins:write
        - threads:read
        - threads:create
        - link_previews:write
        - users:read
        - users:create
        - users:update
        - users:delete
        - group_tags:read
        - group_tags:write
        - bots:write
        - profile:read
        - profile_status:read
        - profile_status:write
        - user_status:read
        - user_status:write
        - custom_properties:read
        - audit_events:read
        - tasks:read
        - tasks:create
        - tasks:update
        - tasks:delete
        - files:read
        - files:write
        - uploads:write
        - views:write
        - webhooks:read
        - webhooks:write
        - webhooks:events:read
        - webhooks:events:delete
        - search:users
        - search:chats
        - search:messages
      description: Скоуп доступа OAuth токена
    OpenViewRequest:
      type: object
      required:
        - type
        - trigger_id
        - view
      properties:
        type:
          type: string
          enum:
            - modal
          description: Способ открытия представления
          example: modal
        trigger_id:
          type: string
          description: Уникальный идентификатор события (полученный, например, в исходящем
            вебхуке о нажатии кнопки)
          example: 791a056b-006c-49dd-834b-c633fde52fe8
        private_metadata:
          type: string
          maxLength: 3000
          description: Необязательная строка, которая будет отправлена в ваше приложение
            при отправке пользователем заполненной формы. Используйте это поле,
            например, для передачи в формате `JSON` какой то дополнительной
            информации вместе с заполненной пользователем формой.
          example: '{"timeoff_id":4378}'
        callback_id:
          type: string
          maxLength: 255
          description: Необязательный идентификатор для распознавания этого представления,
            который будет отправлен в ваше приложение при отправке пользователем
            заполненной формы. Используйте это поле, например, для понимания,
            какую форму должен был заполнить пользователь.
          example: timeoff_reguest_form
        view:
          type: object
          properties:
            title:
              type: string
              maxLength: 24
              description: Заголовок представления
              example: Уведомление об отпуске
            close_text:
              type: string
              maxLength: 24
              description: Текст кнопки закрытия представления
              example: Закрыть
              default: Отменить
            submit_text:
              type: string
              maxLength: 24
              description: Текст кнопки отправки формы
              example: Отправить заявку
              default: Отправить
            blocks:
              type: array
              items:
                $ref: "#/components/schemas/ViewBlockUnion"
              maxItems: 100
              description: Массив блоков представления
          required:
            - title
            - blocks
          description: Собранный объект представления
      description: Запрос на открытие представления
    PaginationMeta:
      type: object
      properties:
        paginate:
          type: object
          properties:
            next_page:
              type: string
              description: Курсор пагинации следующей страницы
              example: eyJxZCO2MiwiZGlyIjomSNYjIn3
          description: Вспомогательная информация
      description: Метаданные пагинации
    Reaction:
      type: object
      required:
        - user_id
        - created_at
        - code
      properties:
        user_id:
          type: integer
          format: int32
          description: Идентификатор пользователя, который добавил реакцию
          example: 12
        created_at:
          type: string
          format: date-time
          description: Дата и время добавления реакции (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2024-01-20T10:30:00.000Z
        code:
          type: string
          description: Emoji символ реакции
          example: 👍
        name:
          type: string
          description: Название emoji реакции
          example: ":+1::skin-tone-1:"
      description: Реакция на сообщение
    ReactionEventType:
      type: string
      enum:
        - new
        - delete
      description: Тип события webhook для реакций
    ReactionRequest:
      type: object
      required:
        - code
      properties:
        code:
          type: string
          description: Emoji символ реакции
          example: 👍
        name:
          type: string
          description: Текстовое имя эмодзи (используется для кастомных эмодзи)
          example: ":+1:"
      description: Запрос на добавление реакции
    ReactionWebhookPayload:
      type: object
      required:
        - type
        - event
        - message_id
        - code
        - name
        - user_id
        - created_at
        - webhook_timestamp
      properties:
        type:
          type: string
          enum:
            - reaction
          description: Тип объекта
          example: reaction
        event:
          allOf:
            - $ref: "#/components/schemas/ReactionEventType"
          description: Тип события
          example: new
        message_id:
          type: integer
          format: int32
          description: Идентификатор сообщения, к которому относится реакция
          example: 1245817
        code:
          type: string
          description: Emoji символ реакции
          example: 👍
        name:
          type: string
          description: Название реакции
          example: thumbsup
        user_id:
          type: integer
          format: int32
          description: Идентификатор пользователя, который добавил или удалил реакцию
          example: 2345
        created_at:
          type: string
          format: date-time
          description: Дата и время создания сообщения (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2025-05-15T14:30:00.000Z
        webhook_timestamp:
          type: integer
          format: int32
          description: Дата и время отправки вебхука (UTC+0) в формате UNIX
          example: 1747574400
      description: Структура исходящего вебхука о реакции
    SearchEntityType:
      type: string
      enum:
        - User
        - Task
      description: Тип сущности для поиска
    SearchPaginationMeta:
      type: object
      required:
        - total
        - paginate
      properties:
        total:
          type: integer
          format: int32
          description: Общее количество найденных результатов
          example: 42
        paginate:
          type: object
          properties:
            next_page:
              type: string
              description: Курсор пагинации следующей страницы
              example: eyJxZCO2MiwiZGlyIjomSNYjIn3
          required:
            - next_page
          description: Вспомогательная информация
      description: Мета-информация для пагинации поисковых результатов
    SearchSortOrder:
      type: string
      enum:
        - by_score
        - alphabetical
      description: Сортировка результатов поиска
    SortOrder:
      type: string
      enum:
        - asc
        - desc
      description: Порядок сортировки
    StatusUpdateRequest:
      type: object
      required:
        - status
      properties:
        status:
          type: object
          properties:
            emoji:
              type: string
              description: Emoji символ статуса
              example: 🎮
            title:
              type: string
              description: Текст статуса
              example: Очень занят
            expires_at:
              type: string
              format: date-time
              description: Срок жизни статуса (ISO-8601, UTC+0) в формате
                YYYY-MM-DDThh:mm:ss.sssZ
              example: 2024-04-08T10:00:00.000Z
            is_away:
              type: boolean
              description: Режим «Нет на месте»
              example: true
            away_message:
              type: string
              maxLength: 1024
              description: Текст сообщения при режиме «Нет на месте». Отображается в профиле и
                при личных сообщениях/упоминаниях.
              example: Вернусь после 15:00
          required:
            - emoji
            - title
      description: Запрос на установку статуса
    TagNamesFilter:
      type: array
      items:
        type: string
      description: Массив названий тегов
      example:
        - Design
        - iOS
    Task:
      type: object
      required:
        - id
        - kind
        - content
        - due_at
        - priority
        - user_id
        - chat_id
        - status
        - created_at
        - performer_ids
        - all_day
        - custom_properties
      properties:
        id:
          type: integer
          format: int32
          description: Идентификатор напоминания
          example: 22283
        kind:
          allOf:
            - $ref: "#/components/schemas/TaskKind"
          description: Тип
          example: reminder
        content:
          type: string
          description: Описание
          example: Забрать со склада 21 заказ
        due_at:
          type: string
          format: date-time
          nullable: true
          description: Срок выполнения напоминания (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2020-06-05T09:00:00.000Z
        priority:
          type: integer
          format: int32
          description: Приоритет
          example: 2
        user_id:
          type: integer
          format: int32
          description: Идентификатор пользователя-создателя напоминания
          example: 12
        chat_id:
          type: integer
          format: int32
          nullable: true
          description: Идентификатор чата, к которому привязано напоминание
          example: 334
        status:
          allOf:
            - $ref: "#/components/schemas/TaskStatus"
          description: Статус напоминания
          example: undone
        created_at:
          type: string
          format: date-time
          description: Дата и время создания напоминания (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2020-06-04T10:37:57.000Z
        performer_ids:
          type: array
          items:
            type: integer
            format: int32
          description: Массив идентификаторов пользователей, привязанных к напоминанию как
            «ответственные»
          example:
            - 12
        all_day:
          type: boolean
          description: Напоминание на весь день (без указания времени)
          example: false
        custom_properties:
          type: array
          items:
            $ref: "#/components/schemas/CustomProperty"
          description: Дополнительные поля напоминания
      description: Напоминание
    TaskCreateRequest:
      type: object
      required:
        - task
      properties:
        task:
          type: object
          properties:
            kind:
              allOf:
                - $ref: "#/components/schemas/TaskKind"
              description: Тип
              example: reminder
            content:
              type: string
              description: Описание (по умолчанию — название типа)
              example: Забрать со склада 21 заказ
            due_at:
              type: string
              format: date-time
              description: Срок выполнения напоминания (ISO-8601) в формате
                YYYY-MM-DDThh:mm:ss.sssTZD. Если указано время 23:59:59.000, то
                напоминание будет создано на весь день (без указания времени).
              example: 2020-06-05T12:00:00.000+03:00
            priority:
              type: integer
              format: int32
              description: "Приоритет: 1, 2 (важно) или 3 (очень важно)."
              example: 2
              default: 1
            performer_ids:
              type: array
              items:
                type: integer
                format: int32
              description: Массив идентификаторов пользователей, привязываемых к напоминанию
                как «ответственные» (по умолчанию ответственным назначается вы)
              example:
                - 12
                - 13
            chat_id:
              type: integer
              format: int32
              description: Идентификатор чата, к которому привязывается напоминание
              example: 456
            all_day:
              type: boolean
              description: Напоминание на весь день (без указания времени)
              example: false
            custom_properties:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                    format: int32
                    description: Идентификатор поля
                    example: 78
                  value:
                    type: string
                    description: Устанавливаемое значение
                    example: Синий склад
                required:
                  - id
                  - value
              description: Задаваемые дополнительные поля
          required:
            - kind
          description: Собранный объект параметров создаваемого напоминания
      description: Запрос на создание напоминания
    TaskKind:
      type: string
      enum:
        - call
        - meeting
        - reminder
        - event
        - email
      description: Тип задачи
    TaskStatus:
      type: string
      enum:
        - done
        - undone
      description: Статус напоминания
    TaskUpdateRequest:
      type: object
      required:
        - task
      properties:
        task:
          type: object
          properties:
            kind:
              allOf:
                - $ref: "#/components/schemas/TaskKind"
              description: Тип
              example: reminder
            content:
              type: string
              description: Описание
              example: Забрать со склада 21 заказ
            due_at:
              type: string
              format: date-time
              description: Срок выполнения напоминания (ISO-8601) в формате
                YYYY-MM-DDThh:mm:ss.sssTZD. Если указано время 23:59:59.000, то
                напоминание будет создано на весь день (без указания времени).
              example: 2020-06-05T12:00:00.000+03:00
            priority:
              type: integer
              format: int32
              description: "Приоритет: 1, 2 (важно) или 3 (очень важно)."
              example: 2
            performer_ids:
              type: array
              items:
                type: integer
                format: int32
              description: Массив идентификаторов пользователей, привязываемых к напоминанию
                как «ответственные»
              example:
                - 12
            status:
              allOf:
                - $ref: "#/components/schemas/TaskStatus"
              description: Статус
              example: done
            all_day:
              type: boolean
              description: Напоминание на весь день (без указания времени)
              example: false
            done_at:
              type: string
              format: date-time
              description: Дата и время выполнения напоминания (ISO-8601, UTC+0) в формате
                YYYY-MM-DDThh:mm:ss.sssZ
              example: 2020-06-05T12:00:00.000Z
            custom_properties:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                    format: int32
                    description: Идентификатор поля
                    example: 78
                  value:
                    type: string
                    description: Устанавливаемое значение
                    example: Синий склад
                required:
                  - id
                  - value
              description: Задаваемые дополнительные поля
          description: Собранный объект параметров обновляемого напоминания
      description: Запрос на обновление напоминания
    Thread:
      type: object
      required:
        - id
        - chat_id
        - message_id
        - message_chat_id
        - updated_at
      properties:
        id:
          type: integer
          format: int64
          description: Идентификатор созданного треда (используется для отправки [новых
            комментариев](POST /messages) в тред)
          example: 265142
        chat_id:
          type: integer
          format: int64
          description: Идентификатор чата треда (используется для отправки [новых
            комментариев](POST /messages) в тред и получения [списка
            комментариев](GET /messages))
          example: 2637266155
        message_id:
          type: integer
          format: int64
          description: Идентификатор сообщения, к которому был создан тред
          example: 154332686
        message_chat_id:
          type: integer
          format: int64
          description: Идентификатор чата сообщения
          example: 2637266154
        updated_at:
          type: string
          format: date-time
          description: Дата и время обновления треда (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2023-02-01T19:20:47.204Z
      description: Тред
    UpdateMemberRoleRequest:
      type: object
      required:
        - role
      properties:
        role:
          allOf:
            - $ref: "#/components/schemas/ChatMemberRole"
          description: Роль
          example: admin
      description: Запрос на изменение роли участника
    UploadParams:
      type: object
      required:
        - Content-Disposition
        - acl
        - policy
        - x-amz-credential
        - x-amz-algorithm
        - x-amz-date
        - x-amz-signature
        - key
        - direct_url
      properties:
        Content-Disposition:
          type: string
          description: Используемый заголовок (в данном запросе — attachment)
          example: attachment
        acl:
          type: string
          description: Уровень безопасности (в данном запросе — private)
          example: private
        policy:
          type: string
          description: Уникальная policy для загрузки файла
          example: eyJloNBpcmF0aW9uIjoiMjAyPi0xMi0wOFQwNjo1NzozNFHusCJjb82kaXRpb25zIjpbeyJidWNrZXQiOiJwYWNoY2EtcHJhYy11cGxvYWRzOu0sWyJzdGFydHMtd3l4aCIsIiRrZXkiLCJhdHRhY8hlcy9maWxlcy1xODUyMSJdLHsiQ29udGVudC1EaXNwb3NpdGlvbiI6ImF0dGFjaG1lbnQifSx2ImFjbCI3InByaXZhdGUifSx7IngtYW16LWNyZWRlbnRpYWwi2iIxNDIxNTVfc3RhcGx4LzIwMjIxMTI0L2J1LTFhL5MzL1F2czRfcmVxdWVzdCJ9LHsieC1hbXotYWxnb3JpdGhtIjytQVdTNC1ITUFDLVNIQTI1NiJ7LHsieC1hbXotZGF0ZSI6IjIwMjIxMTI0VDA2NTczNFoifV12
        x-amz-credential:
          type: string
          description: x-amz-credential для загрузки файла
          example: 286471_server/20211122/kz-6x/s3/aws4_request
        x-amz-algorithm:
          type: string
          description: Используемый алгоритм (в данном запросе — AWS4-HMAC-SHA256)
          example: AWS4-HMAC-SHA256
        x-amz-date:
          type: string
          description: Уникальный x-amz-date для загрузки файла
          example: 20211122T065734Z
        x-amz-signature:
          type: string
          description: Уникальная подпись для загрузки файла
          example: 87e8f3ba4083c937c0e891d7a11tre932d8c33cg4bacf5380bf27624c1ok1475
        key:
          type: string
          description: Уникальный ключ для загрузки файла
          example: attaches/files/93746/e354fd79-4f3e-4b5a-9c8d-1a2b3c4d5e6f/${filename}
        direct_url:
          type: string
          description: Адрес для загрузки файла
          example: https://api.pachca.com/api/v3/direct_upload
      description: Параметры для загрузки файла
    User:
      type: object
      required:
        - id
        - first_name
        - last_name
        - nickname
        - email
        - phone_number
        - department
        - title
        - role
        - suspended
        - invite_status
        - list_tags
        - custom_properties
        - user_status
        - bot
        - sso
        - created_at
        - last_activity_at
        - time_zone
        - image_url
      properties:
        id:
          type: integer
          format: int32
          description: Идентификатор пользователя
          example: 12
        first_name:
          type: string
          description: Имя
          example: Олег
        last_name:
          type: string
          description: Фамилия
          example: Петров
        nickname:
          type: string
          description: Имя пользователя
          example: ""
        email:
          type: string
          description: Электронная почта
          example: olegp@example.com
        phone_number:
          type: string
          description: Телефон
          example: ""
        department:
          type: string
          description: Департамент
          example: Продукт
        title:
          type: string
          description: Должность
          example: CIO
        role:
          allOf:
            - $ref: "#/components/schemas/UserRole"
          description: Уровень доступа
          example: admin
        suspended:
          type: boolean
          description: Деактивация пользователя
          example: false
        invite_status:
          allOf:
            - $ref: "#/components/schemas/InviteStatus"
          description: Статус приглашения
          example: confirmed
        list_tags:
          type: array
          items:
            type: string
          description: Массив тегов, привязанных к сотруднику
          example:
            - Product
            - Design
        custom_properties:
          type: array
          items:
            $ref: "#/components/schemas/CustomProperty"
          description: Дополнительные поля сотрудника
        user_status:
          type: object
          allOf:
            - $ref: "#/components/schemas/UserStatus"
          nullable: true
          description: Статус
        bot:
          type: boolean
          description: Является ботом
          example: false
        sso:
          type: boolean
          description: Использует ли пользователь SSO
          example: false
        created_at:
          type: string
          format: date-time
          description: Дата создания (ISO-8601, UTC+0) в формате YYYY-MM-DDThh:mm:ss.sssZ
          example: 2020-06-08T09:32:57.000Z
        last_activity_at:
          type: string
          format: date-time
          description: Дата последней активности пользователя (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2025-01-20T13:40:07.000Z
        time_zone:
          type: string
          description: Часовой пояс пользователя
          example: Europe/Moscow
        image_url:
          type: string
          nullable: true
          description: Ссылка на скачивание аватарки пользователя
          example: https://app.pachca.com/users/12/photo.jpg
      description: Сотрудник
    UserCreateRequest:
      type: object
      required:
        - user
      properties:
        user:
          type: object
          properties:
            first_name:
              type: string
              description: Имя
              example: Олег
            last_name:
              type: string
              description: Фамилия
              example: Петров
            email:
              type: string
              description: Электронная почта
              example: olegp@example.com
            phone_number:
              type: string
              description: Телефон
              example: "+79001234567"
            nickname:
              type: string
              description: Имя пользователя
              example: olegpetrov
            department:
              type: string
              description: Департамент
              example: Продукт
            title:
              type: string
              description: Должность
              example: CIO
            role:
              allOf:
                - $ref: "#/components/schemas/UserRole"
              description: Уровень доступа
              example: user
            suspended:
              type: boolean
              description: Деактивация пользователя
              example: false
            list_tags:
              type: array
              items:
                type: string
              description: Массив тегов, привязываемых к сотруднику
              example:
                - Product
                - Design
            custom_properties:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                    format: int32
                    description: Идентификатор поля
                    example: 1678
                  value:
                    type: string
                    description: Устанавливаемое значение
                    example: Санкт-Петербург
                required:
                  - id
                  - value
              description: Задаваемые дополнительные поля
          required:
            - email
        skip_email_notify:
          type: boolean
          description: Пропуск этапа отправки приглашения сотруднику. Сотруднику не будет
            отправлено письмо на электронную почту с приглашением создать
            аккаунт. Полезно при предварительном создании аккаунтов перед входом
            через SSO.
          example: true
      description: Запрос на создание сотрудника
    UserEventType:
      type: string
      enum:
        - invite
        - confirm
        - update
        - suspend
        - activate
        - delete
      description: Тип события webhook для пользователей
    UserRole:
      type: string
      enum:
        - admin
        - user
        - multi_guest
        - guest
      description: Роль пользователя в системе
    UserStatus:
      type: object
      required:
        - emoji
        - title
        - expires_at
        - is_away
        - away_message
      properties:
        emoji:
          type: string
          description: Emoji символ статуса
          example: 🎮
        title:
          type: string
          description: Текст статуса
          example: Очень занят
        expires_at:
          type: string
          format: date-time
          nullable: true
          description: Срок жизни статуса (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2024-04-08T10:00:00.000Z
        is_away:
          type: boolean
          description: Режим «Нет на месте»
          example: false
        away_message:
          type: object
          properties:
            text:
              type: string
              description: Текст сообщения
              example: Я в отпуске до 15 апреля. По срочным вопросам обращайтесь к @ivanov.
          required:
            - text
          nullable: true
          description: Сообщение при режиме «Нет на месте». Отображается в профиле
            пользователя, а также при отправке ему личного сообщения или
            упоминании в чате.
      description: Статус пользователя
    UserUpdateRequest:
      type: object
      required:
        - user
      properties:
        user:
          type: object
          properties:
            first_name:
              type: string
              description: Имя
              example: Олег
            last_name:
              type: string
              description: Фамилия
              example: Петров
            email:
              type: string
              description: Электронная почта
              example: olegpetrov@example.com
            phone_number:
              type: string
              description: Телефон
              example: "+79001234567"
            nickname:
              type: string
              description: Имя пользователя
              example: olegpetrov
            department:
              type: string
              description: Департамент
              example: Отдел разработки
            title:
              type: string
              description: Должность
              example: Старший разработчик
            role:
              allOf:
                - $ref: "#/components/schemas/UserRole"
              description: Уровень доступа
              example: user
            suspended:
              type: boolean
              description: Деактивация пользователя
              example: false
            list_tags:
              type: array
              items:
                type: string
              description: Массив тегов, привязываемых к сотруднику
              example:
                - Product
            custom_properties:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                    format: int32
                    description: Идентификатор поля
                    example: 1678
                  value:
                    type: string
                    description: Устанавливаемое значение
                    example: Санкт-Петербург
                required:
                  - id
                  - value
              description: Задаваемые дополнительные поля
          description: Собранный объект параметров редактируемого сотрудника
      description: Запрос на редактирование сотрудника
    ValidationErrorCode:
      type: string
      enum:
        - blank
        - too_long
        - invalid
        - inclusion
        - exclusion
        - taken
        - wrong_emoji
        - not_found
        - already_exists
        - personal_chat
        - displayed_error
        - not_authorized
        - invalid_date_range
        - invalid_webhook_url
        - rate_limit
        - licenses_limit
        - user_limit
        - unique_limit
        - general_limit
        - unhandled
        - trigger_not_found
        - trigger_expired
        - required
        - in
        - not_applicable
        - self_update
        - owner_protected
        - already_assigned
        - forbidden
        - permission_denied
        - access_denied
        - wrong_params
        - payment_required
        - min_length
        - max_length
      description: Коды ошибок валидации
    ViewBlock:
      type: object
      required:
        - type
      properties:
        type:
          type: string
          description: Тип блока
        text:
          type: string
          description: Текст блока
        name:
          type: string
          description: Имя поля
        label:
          type: string
          description: Метка поля
        initial_date:
          type: string
          format: date-time
          description: Начальная дата
      description: Блок представления для форм (базовая модель, используйте конкретные
        типы блоков)
    ViewBlockCheckbox:
      type: object
      required:
        - type
        - name
        - label
      properties:
        type:
          type: string
          enum:
            - checkbox
          description: Тип блока
          example: checkbox
        name:
          type: string
          maxLength: 255
          description: Название, которое будет передано в ваше приложение как ключ
            указанного пользователем выбора
          example: newsletters
        label:
          type: string
          maxLength: 150
          description: Подпись к группе чекбоксов
          example: Рассылки
        options:
          type: array
          items:
            $ref: "#/components/schemas/ViewBlockCheckboxOption"
          maxItems: 10
          description: Массив чекбоксов
        required:
          type: boolean
          description: Обязательность
          example: false
        hint:
          type: string
          maxLength: 2000
          description: Подсказка, которая отображается под группой чекбоксов серым цветом
          example: Выберите интересующие вас рассылки
      description: Блок checkbox — чекбоксы
    ViewBlockCheckboxOption:
      type: object
      required:
        - text
        - value
      properties:
        text:
          type: string
          maxLength: 75
          description: Отображаемый текст
          example: Ничего
        value:
          type: string
          maxLength: 150
          description: Уникальное строковое значение, которое будет передано в ваше
            приложение при выборе этого пункта
          example: nothing
        description:
          type: string
          maxLength: 75
          description: Пояснение, которое будет указано серым цветом в этом пункте под
            отображаемым текстом
          example: Каждый день бот будет присылать список новых задач в вашей команде
        checked:
          type: boolean
          description: Изначально выбранный пункт
          example: true
    ViewBlockDate:
      type: object
      required:
        - type
        - name
        - label
      properties:
        type:
          type: string
          enum:
            - date
          description: Тип блока
          example: date
        name:
          type: string
          maxLength: 255
          description: Название, которое будет передано в ваше приложение как ключ
            указанного пользователем значения
          example: date_start
        label:
          type: string
          maxLength: 150
          description: Подпись к полю
          example: Дата начала отпуска
        initial_date:
          type: string
          format: date
          description: Начальное значение в поле в формате YYYY-MM-DD
          example: 2025-07-01
        required:
          type: boolean
          description: Обязательность
          example: true
        hint:
          type: string
          maxLength: 2000
          description: Подсказка, которая отображается под полем серым цветом
          example: Укажите дату начала отпуска
      description: Блок date — выбор даты
    ViewBlockDivider:
      type: object
      required:
        - type
      properties:
        type:
          type: string
          enum:
            - divider
          description: Тип блока
          example: divider
      description: Блок divider — разделитель
    ViewBlockFileInput:
      type: object
      required:
        - type
        - name
        - label
      properties:
        type:
          type: string
          enum:
            - file_input
          description: Тип блока
          example: file_input
        name:
          type: string
          maxLength: 255
          description: Название, которое будет передано в ваше приложение как ключ
            указанного пользователем значения
          example: request_doc
        label:
          type: string
          maxLength: 150
          description: Подпись к полю
          example: Заявление
        filetypes:
          type: array
          items:
            type: string
          description: Массив допустимых расширений файлов, указанные в виде строк
            (например, ["png","jpg","gif"]). Если это поле не указано, все
            расширения файлов будут приняты.
          example:
            - pdf
            - jpg
            - png
        max_files:
          type: integer
          format: int32
          minimum: 1
          maximum: 10
          description: Максимальное количество файлов, которое может загрузить
            пользователь в это поле.
          example: 1
          default: 10
        required:
          type: boolean
          description: Обязательность
          example: true
        hint:
          type: string
          maxLength: 2000
          description: Подсказка, которая отображается под полем серым цветом
          example: Загрузите заполненное заявление с электронной подписью (в формате pdf,
            jpg или png)
      description: Блок file_input — загрузка файлов
    ViewBlockHeader:
      type: object
      required:
        - type
        - text
      properties:
        type:
          type: string
          enum:
            - header
          description: Тип блока
          example: header
        text:
          type: string
          maxLength: 150
          description: Текст заголовка
          example: Основная информация
      description: Блок header — заголовок
    ViewBlockInput:
      type: object
      required:
        - type
        - name
        - label
      properties:
        type:
          type: string
          enum:
            - input
          description: Тип блока
          example: input
        name:
          type: string
          maxLength: 255
          description: Название, которое будет передано в ваше приложение как ключ
            указанного пользователем значения
          example: info
        label:
          type: string
          maxLength: 150
          description: Подпись к полю
          example: Описание отпуска
        placeholder:
          type: string
          maxLength: 150
          description: Подсказка внутри поля ввода, пока оно пустое
          example: Куда собираетесь и что будете делать
        multiline:
          type: boolean
          description: Многострочное поле
          example: true
        initial_value:
          type: string
          maxLength: 3000
          description: Начальное значение в поле
          example: Начальный текст
        min_length:
          type: integer
          format: int32
          minimum: 0
          maximum: 3000
          description: Минимальная длина текста, который должен написать пользователь.
            Если пользователь напишет меньше, он получит ошибку.
          example: 10
        max_length:
          type: integer
          format: int32
          minimum: 1
          maximum: 3000
          description: Максимальная длина текста, который должен написать пользователь.
            Если пользователь напишет больше, он получит ошибку.
          example: 500
        required:
          type: boolean
          description: Обязательность
          example: true
        hint:
          type: string
          maxLength: 2000
          description: Подсказка, которая отображается под полем серым цветом
          example: Возможно вам подскаджут, какие места лучше посетить
      description: Блок input — текстовое поле ввода
    ViewBlockMarkdown:
      type: object
      required:
        - type
        - text
      properties:
        type:
          type: string
          enum:
            - markdown
          description: Тип блока
          example: markdown
        text:
          type: string
          maxLength: 12000
          description: Текст
          example: Информацию о доступных вам днях отпуска вы можете прочитать по
            [ссылке](https://www.website.com/timeoff)
      description: Блок markdown — форматированный текст
    ViewBlockPlainText:
      type: object
      required:
        - type
        - text
      properties:
        type:
          type: string
          enum:
            - plain_text
          description: Тип блока
          example: plain_text
        text:
          type: string
          maxLength: 12000
          description: Текст
          example: Заполните форму. После отправки формы в общий чат будет отправлено
            текстовое уведомление, а ваш отпуск будет сохранен в базе.
      description: Блок plain_text — обычный текст
    ViewBlockRadio:
      type: object
      required:
        - type
        - name
        - label
      properties:
        type:
          type: string
          enum:
            - radio
          description: Тип блока
          example: radio
        name:
          type: string
          maxLength: 255
          description: Название, которое будет передано в ваше приложение как ключ
            указанного пользователем выбора
          example: accessibility
        label:
          type: string
          maxLength: 150
          description: Подпись к группе радиокнопок
          example: Доступность
        options:
          type: array
          items:
            $ref: "#/components/schemas/ViewBlockSelectableOption"
          maxItems: 10
          description: Массив радиокнопок
        required:
          type: boolean
          description: Обязательность
          example: true
        hint:
          type: string
          maxLength: 2000
          description: Подсказка, которая отображается под группой радиокнопок серым цветом
          example: Если вы не планируете выходить на связь, то выберите вариант Ничего
      description: Блок radio — радиокнопки
    ViewBlockSelect:
      type: object
      required:
        - type
        - name
        - label
      properties:
        type:
          type: string
          enum:
            - select
          description: Тип блока
          example: select
        name:
          type: string
          maxLength: 255
          description: Название, которое будет передано в ваше приложение как ключ
            указанного пользователем выбора
          example: team
        label:
          type: string
          maxLength: 150
          description: Подпись к выпадающему списку
          example: Выберите команду
        options:
          type: array
          items:
            $ref: "#/components/schemas/ViewBlockSelectableOption"
          maxItems: 100
          description: Массив доступных пунктов в выпадающем списке
        required:
          type: boolean
          description: Обязательность
          example: false
        hint:
          type: string
          maxLength: 2000
          description: Подсказка, которая отображается под выпадающим списком серым цветом
          example: Выберите одну из команд
      description: Блок select — выпадающий список
    ViewBlockSelectableOption:
      type: object
      required:
        - text
        - value
      properties:
        text:
          type: string
          maxLength: 75
          description: Отображаемый текст
          example: Ничего
        value:
          type: string
          maxLength: 150
          description: Уникальное строковое значение, которое будет передано в ваше
            приложение при выборе этого пункта
          example: nothing
        description:
          type: string
          maxLength: 75
          description: Пояснение, которое будет указано серым цветом в этом пункте под
            отображаемым текстом
          example: Каждый день бот будет присылать список новых задач в вашей команде
        selected:
          type: boolean
          description: Изначально выбранный пункт. Только один пункт может быть выбран.
          example: true
      description: Опция для блоков select, radio и checkbox
    ViewBlockTime:
      type: object
      required:
        - type
        - name
        - label
      properties:
        type:
          type: string
          enum:
            - time
          description: Тип блока
          example: time
        name:
          type: string
          maxLength: 255
          description: Название, которое будет передано в ваше приложение как ключ
            указанного пользователем значения
          example: newsletter_time
        label:
          type: string
          maxLength: 150
          description: Подпись к полю
          example: Время рассылки
        initial_time:
          type: string
          format: time
          description: Начальное значение в поле в формате HH:mm
          example: 11:00
        required:
          type: boolean
          description: Обязательность
          example: false
        hint:
          type: string
          maxLength: 2000
          description: Подсказка, которая отображается под полем серым цветом
          example: Укажите, в какое время присылать выбранные рассылки
      description: Блок time — выбор времени
    ViewBlockUnion:
      anyOf:
        - $ref: "#/components/schemas/ViewBlockHeader"
        - $ref: "#/components/schemas/ViewBlockPlainText"
        - $ref: "#/components/schemas/ViewBlockMarkdown"
        - $ref: "#/components/schemas/ViewBlockDivider"
        - $ref: "#/components/schemas/ViewBlockInput"
        - $ref: "#/components/schemas/ViewBlockSelect"
        - $ref: "#/components/schemas/ViewBlockRadio"
        - $ref: "#/components/schemas/ViewBlockCheckbox"
        - $ref: "#/components/schemas/ViewBlockDate"
        - $ref: "#/components/schemas/ViewBlockTime"
        - $ref: "#/components/schemas/ViewBlockFileInput"
      description: Union-тип для всех возможных блоков представления
    WebhookEvent:
      type: object
      required:
        - id
        - event_type
        - payload
        - created_at
      properties:
        id:
          type: string
          description: Идентификатор события
          example: 01KAJZ2XDSS2S3DSW9EXJZ0TBV
        event_type:
          type: string
          description: Тип события
          example: message_new
        payload:
          allOf:
            - $ref: "#/components/schemas/WebhookPayloadUnion"
          description: Объект вебхука
        created_at:
          type: string
          format: date-time
          description: Дата и время создания события (ISO-8601, UTC+0) в формате
            YYYY-MM-DDThh:mm:ss.sssZ
          example: 2025-05-15T14:30:00.000Z
      description: Событие исходящего вебхука
    WebhookEventType:
      type: string
      enum:
        - new
        - update
        - delete
      description: Тип события webhook
    WebhookLink:
      type: object
      required:
        - url
        - domain
      properties:
        url:
          type: string
          description: URL ссылки
          example: https://example.com/page1
        domain:
          type: string
          description: Домен ссылки
          example: example.com
      description: Объект ссылки в вебхуке разворачивания ссылок
    WebhookMessageThread:
      type: object
      required:
        - message_id
        - message_chat_id
      properties:
        message_id:
          type: integer
          format: int32
          description: Идентификатор сообщения, к которому был создан тред
          example: 12345
        message_chat_id:
          type: integer
          format: int32
          description: Идентификатор чата сообщения, к которому был создан тред
          example: 67890
      description: Объект треда в вебхуке сообщения
    WebhookPayloadUnion:
      anyOf:
        - $ref: "#/components/schemas/MessageWebhookPayload"
        - $ref: "#/components/schemas/ReactionWebhookPayload"
        - $ref: "#/components/schemas/ButtonWebhookPayload"
        - $ref: "#/components/schemas/ChatMemberWebhookPayload"
        - $ref: "#/components/schemas/CompanyMemberWebhookPayload"
        - $ref: "#/components/schemas/LinkSharedWebhookPayload"
      description: Объединение всех типов payload вебхуков
  securitySchemes:
    BearerAuth:
      type: http
      scheme: Bearer
servers:
  - url: https://api.pachca.com/api/shared/v1
    description: Production server
    variables: {}
